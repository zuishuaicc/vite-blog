<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç»„ä»¶å¤ç”¨ | ccçš„å­¦ä¹ å†ç¨‹</title>
    <meta name="description" content="write daily note">
    <link rel="preload stylesheet" href="/assets/style.d5202d0d.css" as="style">
    
    <script type="module" src="/assets/app.98728d0e.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.b85f4cea.js">
    <link rel="modulepreload" href="/assets/chunks/theme.36ed7255.js">
    <link rel="modulepreload" href="/assets/views_frontend_react_react-skill.md.a11c0c48.lean.js">
    <link rel="icon" href="./future.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/" data-v-86d1bed8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/future.png" alt data-v-8426fc1a><!--]--><!--[-->ccçš„å­¦ä¹ å†ç¨‹<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢æ–‡æ¡£"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>ä¸»é¡µ</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/markdown-examples.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>ä½¿ç”¨æ ·ä¾‹</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/views/frontend/algorithms.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>å¸¸ç”¨ç®—æ³•</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>å…¶ä»–åšå®¢</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://tools.qzxdp.cn/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->å…¨æ ˆå·¥å…·<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://tut.qzxdp.cn/typescript/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->å…¨æ ˆæ•™ç¨‹<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a0fd61f4 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zuishuaicc/vite-blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/zuishuaicc/vite-blog" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg height="32" viewBox="0 0 32 32" width="32" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" fill="#c71d23" r="16"/><path d="m24.0987698 14.2225144h-9.0863697c-.4362899.000207-.7900048.3538292-.790326.7901191l-.0005173 1.9752185c-.0003277.4363707.353328.7902117.7896987.790326.0000712 0 .0001424 0 .0002135-.0002135l5.5317648-.0000461c.4363708-.0000102.7901221.3537352.7901257.790106 0 .0000022 0 .0000044-.0000066.0000066v.1975077.1975318c0 1.3091122-1.0612451 2.3703573-2.3703573 2.3703573h-7.5067195c-.4363081-.0000218-.790009-.353713-.7900429-.7900211l-.0002069-7.5059917c-.0001014-1.3091122 1.0611145-2.3703865 2.3702267-2.3704226.0000217 0 .0000435 0 .0000653.0000653h11.0602463c.4361793-.0004902.7898484-.35394.7906091-.79011894l.0012251-1.97521881c.0007606-.43637034-.3527683-.79033806-.7891389-.79060871-.0001634-.0000001-.0003268-.00000015-.0004901.00048976h-11.0617654c-3.27278051 0-5.92589329 2.65311278-5.92589329 5.9258933v11.0612755c0 .4363707.35374837.7901191.7901191.7901191h11.65447149c2.9454379 0 5.3331872-2.3877493 5.3331872-5.3331872v-4.5430682c0-.4363707-.3537484-.7901191-.7901191-.7901191z" fill="#fff"/></g></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>åˆ‡æ¢ä¸»é¢˜</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zuishuaicc/vite-blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/zuishuaicc/vite-blog" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg height="32" viewBox="0 0 32 32" width="32" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" fill="#c71d23" r="16"/><path d="m24.0987698 14.2225144h-9.0863697c-.4362899.000207-.7900048.3538292-.790326.7901191l-.0005173 1.9752185c-.0003277.4363707.353328.7902117.7896987.790326.0000712 0 .0001424 0 .0002135-.0002135l5.5317648-.0000461c.4363708-.0000102.7901221.3537352.7901257.790106 0 .0000022 0 .0000044-.0000066.0000066v.1975077.1975318c0 1.3091122-1.0612451 2.3703573-2.3703573 2.3703573h-7.5067195c-.4363081-.0000218-.790009-.353713-.7900429-.7900211l-.0002069-7.5059917c-.0001014-1.3091122 1.0611145-2.3703865 2.3702267-2.3704226.0000217 0 .0000435 0 .0000653.0000653h11.0602463c.4361793-.0004902.7898484-.35394.7906091-.79011894l.0012251-1.97521881c.0007606-.43637034-.3527683-.79033806-.7891389-.79060871-.0001634-.0000001-.0003268-.00000015-.0004901.00048976h-11.0617654c-3.27278051 0-5.92589329 2.65311278-5.92589329 5.9258933v11.0612755c0 .4363707.35374837.7901191.7901191.7901191h11.65447149c2.9454379 0 5.3331872-2.3877493 5.3331872-5.3331872v-4.5430682c0-.4363707-.3537484-.7901191-.7901191-.7901191z" fill="#fff"/></g></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>èœå•</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>å›åˆ°é¡¶éƒ¨</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>ä½¿ç”¨æ ·ä¾‹</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/markdown-examples.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Markdown Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/api-examples.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Runtime API Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 has-active" data-v-b00e2fdd data-v-e31bd47b><!----><div class="items" data-v-e31bd47b><!--[--><section class="VPSidebarItem level-1 collapsible has-active" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h3 class="text" data-v-e31bd47b>ğŸ“å‰ç«¯</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/algorithms.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥¨ å¸¸ç”¨ç®—æ³•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/js-base.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥¯ jsåŸºç¡€</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/styleCollection.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥ æ ·å¼åˆé›†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/css-ball.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ§‡ cssç”»æ‚¬æµ®çƒ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/viteConfig.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥“ vite.configé…ç½®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/electron-builder.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŸ electron-builderé…ç½®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/chrome-extension.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ• chrome-extension</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/canvas.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŒ­ canvasä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/drag.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥ª jsé¡µé¢æ‹–æ‹½</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/clickoutside.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŒ® clickoutsideæŒ‡ä»¤</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/indexDB.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŒ¯ indexDBä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/word.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥™ wordå‰ç«¯æ“ä½œ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/excel.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ excelå‰ç«¯æ“ä½œ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/vue-drag.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŒ ant-design-vueå¯å˜åˆ—å®½è¡¨æ ¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/file-slice.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ‡ æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/vue-to-pdf.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŠ vue-to-pdfä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/wx-formdata.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ“ å¾®ä¿¡å°ç¨‹åºä¸­ä½¿ç”¨formdata</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/face-api.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ äººè„¸è¯†åˆ«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/webcomponent.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ‘ åŸç”Ÿwebcomponent</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/qiankun-vite.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ’ qiankunæ­é…vite</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/async-infect.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ‰ æ¶ˆé™¤å¼‚æ­¥ä¼ æŸ“æ€§</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/tsconfig-detail.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ‹ tsconfigè¯¦ç»†é…ç½®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/tailwind.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥ tailwindä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/ellipsis-text.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸˆ å¤šè¡Œæ–‡æœ¬çœç•¥</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/web-animation-api.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥­ åŸç”ŸjsåŠ¨ç”»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/hammerjs.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ ç§»åŠ¨ç«¯äº‹ä»¶åº“</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 has-active" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h4 class="text" data-v-e31bd47b>ğŸ“React</h4><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/react/react-quick-start.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ… viteæ­å»ºReact+ts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/react/react-practice.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ† reactå®æˆ˜é—®é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/react/react-skill.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥‘ reactç»„ä»¶å¤ç”¨æŠ€å·§</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h4 class="text" data-v-e31bd47b>ğŸ“Vue</h4><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/vue/vue-sourcecode.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¿ vueæºç è§£æ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/vue/component-lib.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ§ˆ è‡ªå®šä¹‰ç»„ä»¶åº“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/vue/vue-ref.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ§‚ vue3æ‰¹é‡ç»‘å®šref</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h4 class="text" data-v-e31bd47b>ğŸ“Typescript</h4><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/frontend/typescript/type-error.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥« TypeScriptå¸¸è§ç±»å‹é”™è¯¯</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0" data-v-b00e2fdd data-v-e31bd47b><!----><div class="items" data-v-e31bd47b><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h3 class="text" data-v-e31bd47b>ğŸ“æœåŠ¡ç«¯</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/node-esm.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ± nodeä¸­ä½¿ç”¨esm</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/node-word.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ˜ nodeæ“ä½œword</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/node-excel.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ™ nodeæ“ä½œexcel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/third-table.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸš ä¸‰æ–¹ç™»å½•è¡¨ç»“æ„</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/node-child_process.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ› nodeä¸­ä½¿ç”¨å­è¿›ç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/node-crawl.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸœ nodeçˆ¬è™«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/node-tensorflow.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ§† node+tensorflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/midway.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥š Midway</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h4 class="text" data-v-e31bd47b>ğŸ“nestjs</h4><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/nestjs/nestjs-practise.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ³nestjså®æˆ˜</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/task-manager.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥˜ ä»»åŠ¡é˜Ÿåˆ—</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/backend/pnpm.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ  pnpmä½¿ç”¨</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0" data-v-b00e2fdd data-v-e31bd47b><!----><div class="items" data-v-e31bd47b><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h3 class="text" data-v-e31bd47b>ğŸ“å®¢æˆ·ç«¯</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/electron.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŒ¶ï¸ Election</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/electron-rebuild.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ§„ Election-rebuild</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/electron-sqlite.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ§… Election-sqlite</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/node-cpp.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ„ nodeä¸åŠ¨æ€è¿æ¥åº“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/your-first-extension.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥œ VScodeExtension</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/vscode-debug.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŒ° VScodeè°ƒè¯•åº”ç”¨</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h4 class="text" data-v-e31bd47b>ğŸ“Rust</h4><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/rust/rust-base.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ RuståŸºç¡€</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/rust/rust-lib.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥ RuståŠ¨æ€é“¾æ¥åº“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/rust/rust-node.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥– Rustæ‰©å±•nodeæ’ä»¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/application/rust/rust-wasm.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥¥ Rustå¼€å‘wasm</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0" data-v-b00e2fdd data-v-e31bd47b><!----><div class="items" data-v-e31bd47b><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-e31bd47b data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h3 class="text" data-v-e31bd47b>ğŸ“æŠ€æœ¯æ ˆ</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/mac.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥¦ macä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/navicat.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŒ½ navicatä½¿ç”¨ï¼ˆmacç‰ˆæœ¬ï¼‰</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/docker.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥• dockerä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/bat.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥¨ batå‘½ä»¤</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/linux.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥¯ linuxä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/nginx.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥ nginxä½¿ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/bit-operate.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ§‡ ä½è¿ç®—</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/vim-operate.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ¥“ vimæ“ä½œ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/method-plug.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸŸ methodPlug</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/views/techStack/dailyNote.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ• æ—¥å¸¸æ‚è®°</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>æœ¬é¡µç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _views_frontend_react_react-skill" data-v-6b87e69f><div><h1 id="ç»„ä»¶å¤ç”¨" tabindex="-1">ç»„ä»¶å¤ç”¨ <a class="header-anchor" href="#ç»„ä»¶å¤ç”¨" aria-label="Permalink to &quot;ç»„ä»¶å¤ç”¨&quot;">â€‹</a></h1><h2 id="mixins-å·²åºŸå¼ƒ" tabindex="-1">mixinsï¼ˆå·²åºŸå¼ƒï¼‰ <a class="header-anchor" href="#mixins-å·²åºŸå¼ƒ" aria-label="Permalink to &quot;mixinsï¼ˆå·²åºŸå¼ƒï¼‰&quot;">â€‹</a></h2><blockquote><p><a href="https://react.docschina.org/blog/2016/07/13/mixins-considered-harmful.html" target="_blank" rel="noreferrer">https://react.docschina.org/blog/2016/07/13/mixins-considered-harmful.html</a></p></blockquote><ul><li>mixin å¼•å…¥äº†éšå¼ä¾èµ–å…³ç³» <ul><li>å¯¹äºç»„ä»¶ä¸­çš„æ–¹æ³•å’Œæ•°æ®çš„æ¥æºä¸æ˜ç¡®ï¼Œä¸å®¹æ˜“ç»´æŠ¤</li></ul></li><li>Mixins å¯¼è‡´åç§°å†²çª</li><li>Mixins å¯¼è‡´æ»šé›ªçƒèˆ¬çš„å¤æ‚æ€§</li></ul><h2 id="render-props-æŠ€æœ¯" tabindex="-1">render-props æŠ€æœ¯ <a class="header-anchor" href="#render-props-æŠ€æœ¯" aria-label="Permalink to &quot;render-props æŠ€æœ¯&quot;">â€‹</a></h2><h3 id="ç»„ä»¶å¤ç”¨çš„è¯´æ˜" tabindex="-1">ç»„ä»¶å¤ç”¨çš„è¯´æ˜ <a class="header-anchor" href="#ç»„ä»¶å¤ç”¨çš„è¯´æ˜" aria-label="Permalink to &quot;ç»„ä»¶å¤ç”¨çš„è¯´æ˜&quot;">â€‹</a></h3><ul><li>æ€è€ƒï¼šå¦‚æœä¸¤ä¸ªç»„ä»¶ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ç›¸ä¼¼æˆ–ç›¸åŒï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</li><li>å¤„ç†æ–¹å¼ï¼šå¤ç”¨ç›¸ä¼¼çš„åŠŸèƒ½ï¼ˆè”æƒ³å‡½æ•°å°è£…ï¼‰</li><li>å¤ç”¨ä»€ä¹ˆï¼Ÿ1. state 2. æ“ä½œ state çš„æ–¹æ³• <strong>å¤ç”¨ç»„ä»¶çš„çŠ¶æ€å’Œç»„ä»¶çš„é€»è¾‘ï¼Œç»„ä»¶çš„ UI ä¸ä¸€æ ·</strong></li><li>ä¸¤ç§è§£å†³æ–¹æ¡ˆ(ç±»ç»„ä»¶) <ul><li>render-props</li><li>HOCï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰</li></ul></li><li>æ³¨æ„ï¼šè¿™ä¸¤ç§æ–¹å¼ä¸æ˜¯æ–°çš„ APIï¼Œè€Œæ˜¯åˆ©ç”¨ React è‡ªèº«ç‰¹ç‚¹çš„ç¼–ç æŠ€å·§ï¼Œæ¼”åŒ–è€Œæˆçš„å›ºå®šæ¨¡å¼ï¼ˆå†™æ³•ï¼‰</li></ul><h3 id="render-props-åŸºæœ¬ä½¿ç”¨" tabindex="-1">render-props åŸºæœ¬ä½¿ç”¨ <a class="header-anchor" href="#render-props-åŸºæœ¬ä½¿ç”¨" aria-label="Permalink to &quot;render-props åŸºæœ¬ä½¿ç”¨&quot;">â€‹</a></h3><ul><li><p>æ€è·¯ï¼šå°†è¦å¤ç”¨çš„ state å’Œæ“ä½œ state çš„æ–¹æ³•å°è£…åˆ°ä¸€ä¸ªç»„ä»¶ä¸­</p></li><li><p>é—®é¢˜ï¼šæ¸²æŸ“çš„ UI å†…å®¹ä¸ä¸€æ ·ï¼Œè¯¥æ€ä¹ˆåŠ</p></li><li><p><strong>åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œæ·»åŠ ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„ propï¼Œé€šå¸¸æŠŠè¿™ä¸ª prop å‘½åä¸º renderï¼Œåœ¨ç»„ä»¶å†…éƒ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚ä¼ è¿›æ¥çš„å‡½æ•°è´Ÿè´£æ¸²æŸ“ UI</strong></p></li><li><p>é—®é¢˜ 2ï¼šå¦‚æœè·å–ç»„ä»¶å†…éƒ¨çš„çŠ¶æ€</p></li><li><p><strong>åœ¨ç»„ä»¶å†…éƒ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼ŒæŠŠçŠ¶æ€å½“æˆå‚æ•°è¿›è¡Œä¼ é€’</strong></p></li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Mouse</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// â€¦ çœç•¥stateå’Œæ“ä½œstateçš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">props</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">state</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Mouse</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// â€¦ çœç•¥stateå’Œæ“ä½œstateçš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">props</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">state</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Mouse</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">render</span><span style="color:#89DDFF;">={(</span><span style="color:#BABED8;font-style:italic;">mouse</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> (</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      é¼ æ ‡å½“å‰ä½ç½® </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">mouse</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">x</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">ï¼Œ</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">mouse</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  )</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Mouse</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">render</span><span style="color:#89DDFF;">={(</span><span style="color:#BABED8;font-style:italic;">mouse</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> (</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      é¼ æ ‡å½“å‰ä½ç½® </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">mouse</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">x</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">ï¼Œ</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">mouse</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  )</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="children-ä»£æ›¿-render-å±æ€§" tabindex="-1">children ä»£æ›¿ render å±æ€§ <a class="header-anchor" href="#children-ä»£æ›¿-render-å±æ€§" aria-label="Permalink to &quot;children ä»£æ›¿ render å±æ€§&quot;">â€‹</a></h3><ul><li>æ³¨æ„ï¼šå¹¶ä¸æ˜¯è¯¥æ¨¡å¼å« render props å°±å¿…é¡»ä½¿ç”¨åä¸º render çš„ propï¼Œå®é™…ä¸Šå¯ä»¥ä½¿ç”¨ä»»æ„åç§°çš„ prop</li><li>æŠŠ prop æ˜¯ä¸€ä¸ªå‡½æ•°å¹¶ä¸”å‘Šè¯‰ç»„ä»¶è¦æ¸²æŸ“ä»€ä¹ˆå†…å®¹çš„æŠ€æœ¯å«åšï¼šrender props æ¨¡å¼</li><li>æ¨èï¼šä½¿ç”¨ children ä»£æ›¿ render å±æ€§</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;">;&lt;</span><span style="color:#BABED8;">Mouse</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">{({</span><span style="color:#F07178;"> </span><span style="color:#BABED8;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;font-style:italic;">y</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">})</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      é¼ æ ‡çš„ä½ç½®æ˜¯ </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">x</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">ï¼Œ</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">Mouse</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç»„ä»¶å†…éƒ¨ï¼š</span></span>
<span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">props</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">children</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">state)</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#89DDFF;">;&lt;</span><span style="color:#BABED8;">Mouse</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">{({</span><span style="color:#F07178;"> </span><span style="color:#BABED8;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;font-style:italic;">y</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">})</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      é¼ æ ‡çš„ä½ç½®æ˜¯ </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">x</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">ï¼Œ</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">y</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">Mouse</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç»„ä»¶å†…éƒ¨ï¼š</span></span>
<span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">props</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">children</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">state)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Context ä¸­çš„ç”¨æ³•ï¼š</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Consumer</span><span style="color:#89DDFF;">&gt;{(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">dataå‚æ•°è¡¨ç¤ºæ¥æ”¶åˆ°çš„æ•°æ® -- </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;}&lt;/</span><span style="color:#FFCB6B;">Consumer</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Context ä¸­çš„ç”¨æ³•ï¼š</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Consumer</span><span style="color:#89DDFF;">&gt;{(</span><span style="color:#BABED8;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">dataå‚æ•°è¡¨ç¤ºæ¥æ”¶åˆ°çš„æ•°æ® -- </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;}&lt;/</span><span style="color:#FFCB6B;">Consumer</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="é«˜é˜¶ç»„ä»¶-hoc" tabindex="-1">é«˜é˜¶ç»„ä»¶ HOC <a class="header-anchor" href="#é«˜é˜¶ç»„ä»¶-hoc" aria-label="Permalink to &quot;é«˜é˜¶ç»„ä»¶ HOC&quot;">â€‹</a></h2><h3 id="æ¦‚è¿°" tabindex="-1">æ¦‚è¿° <a class="header-anchor" href="#æ¦‚è¿°" aria-label="Permalink to &quot;æ¦‚è¿°&quot;">â€‹</a></h3><ul><li><p>ç›®çš„ï¼šå®ç°çŠ¶æ€é€»è¾‘å¤ç”¨ å¢å¼ºä¸€ä¸ªç»„ä»¶çš„èƒ½åŠ›</p></li><li><p>é‡‡ç”¨ åŒ…è£…ï¼ˆè£…é¥°ï¼‰æ¨¡å¼ ï¼Œæ¯”å¦‚è¯´ï¼šæ‰‹æœºå£³</p></li><li><p>æ‰‹æœºï¼šè·å–ä¿æŠ¤åŠŸèƒ½</p></li><li><p>æ‰‹æœºå£³ ï¼šæä¾›ä¿æŠ¤åŠŸèƒ½</p></li><li><p>é«˜é˜¶ç»„ä»¶å°±ç›¸å½“äºæ‰‹æœºå£³ï¼Œé€šè¿‡åŒ…è£…ç»„ä»¶ï¼Œå¢å¼ºç»„ä»¶åŠŸèƒ½</p></li></ul><p><img src="/assets/HOC.5b7b41ab.png" alt="image"></p><h3 id="æ€è·¯åˆ†æ" tabindex="-1">æ€è·¯åˆ†æ <a class="header-anchor" href="#æ€è·¯åˆ†æ" aria-label="Permalink to &quot;æ€è·¯åˆ†æ&quot;">â€‹</a></h3><ul><li>é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼ŒHigher-Order Componentï¼‰æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶è¦åŒ…è£…çš„ç»„ä»¶ï¼Œè¿”å›å¢å¼ºåçš„ç»„ä»¶</li><li>é«˜é˜¶ç»„ä»¶çš„å‘½åï¼š <code>withMouse</code> <code>withRouter</code> <code>withXXX</code></li><li>é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œåœ¨è¿™ä¸ªç±»ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œé€šè¿‡ prop å°†å¤ç”¨çš„çŠ¶æ€ä¼ é€’ç»™ è¢«åŒ…è£…ç»„ä»¶</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> CatWithMouse </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">withMouse</span><span style="color:#BABED8;">(Cat)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> PositionWithMOuse </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">withMouse</span><span style="color:#BABED8;">(Position)</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> CatWithMouse </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">withMouse</span><span style="color:#BABED8;">(Cat)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> PositionWithMOuse </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">withMouse</span><span style="color:#BABED8;">(Position)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºçš„ç±»ç»„ä»¶ï¼š</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> WithMouse </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Base</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Mouse</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¤„ç†é¼ æ ‡çš„ä½ç½®ç­‰æ“ä½œ</span></span>
<span class="line"><span style="color:#F07178;">    render</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Base</span><span style="color:#89DDFF;"> {...this.</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Mouse</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºçš„ç±»ç»„ä»¶ï¼š</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> WithMouse </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">Base</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Mouse</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¤„ç†é¼ æ ‡çš„ä½ç½®ç­‰æ“ä½œ</span></span>
<span class="line"><span style="color:#F07178;">    render</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Base</span><span style="color:#89DDFF;"> {...this.</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Mouse</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="ä½¿ç”¨æ­¥éª¤" tabindex="-1">ä½¿ç”¨æ­¥éª¤ <a class="header-anchor" href="#ä½¿ç”¨æ­¥éª¤" aria-label="Permalink to &quot;ä½¿ç”¨æ­¥éª¤&quot;">â€‹</a></h3><ul><li>åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œåç§°çº¦å®šä»¥ with å¼€å¤´</li><li>æŒ‡å®šå‡½æ•°å‚æ•°ï¼ˆä½œä¸ºè¦å¢å¼ºçš„ç»„ä»¶ï¼‰ ä¼ å…¥çš„ç»„ä»¶åªèƒ½æ¸²æŸ“åŸºæœ¬çš„ UI</li><li>åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œ<strong>æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç </strong>ï¼Œå¹¶è¿”å›</li><li>åœ¨å†…éƒ¨åˆ›å»ºçš„ç»„ä»¶çš„ render ä¸­ï¼Œéœ€è¦æ¸²æŸ“ä¼ å…¥çš„åŸºæœ¬ç»„ä»¶ï¼Œå¢å¼ºåŠŸèƒ½ï¼Œé€šè¿‡ props çš„æ–¹å¼ç»™åŸºæœ¬ç»„ä»¶ä¼ å€¼</li><li>è°ƒç”¨è¯¥é«˜é˜¶ç»„ä»¶ï¼Œä¼ å…¥è¦å¢å¼ºçš„ç»„ä»¶ï¼Œé€šè¿‡è¿”å›å€¼æ‹¿åˆ°å¢å¼ºåçš„ç»„ä»¶ï¼Œå¹¶å°†å…¶æ¸²æŸ“åˆ°é¡µé¢ä¸­</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// åˆ›å»ºç»„ä»¶</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> MousePosition </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">withMouse</span><span style="color:#BABED8;">(Position)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ¸²æŸ“ç»„ä»¶</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">MousePosition</span><span style="color:#89DDFF;"> /&gt;</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// åˆ›å»ºç»„ä»¶</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> MousePosition </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">withMouse</span><span style="color:#BABED8;">(Position)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ¸²æŸ“ç»„ä»¶</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">MousePosition</span><span style="color:#89DDFF;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ä¼ é€’-props" tabindex="-1">ä¼ é€’ props <a class="header-anchor" href="#ä¼ é€’-props" aria-label="Permalink to &quot;ä¼ é€’ props&quot;">â€‹</a></h3><ul><li>é—®é¢˜ï¼šprops ä¸¢å¤±</li><li>åŸå› ï¼šé«˜é˜¶ç»„ä»¶æ²¡æœ‰å¾€ä¸‹ä¼ é€’ props</li><li>è§£å†³æ–¹å¼ï¼šæ¸²æŸ“ WrappedComponent æ—¶ï¼Œå°† state å’Œ this.props ä¸€èµ·ä¼ é€’ç»™ç»„ä»¶</li><li>ä¼ é€’æ–¹å¼ï¼š</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">WrappedComponent</span><span style="color:#89DDFF;"> {...this.</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">} {...this.</span><span style="color:#BABED8;">props</span><span style="color:#89DDFF;">} /&gt;</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">WrappedComponent</span><span style="color:#89DDFF;"> {...this.</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">} {...this.</span><span style="color:#BABED8;">props</span><span style="color:#89DDFF;">} /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="è‡ªå®šä¹‰-hooks" tabindex="-1">è‡ªå®šä¹‰ hooks <a class="header-anchor" href="#è‡ªå®šä¹‰-hooks" aria-label="Permalink to &quot;è‡ªå®šä¹‰ hooks&quot;">â€‹</a></h2><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useEffect</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ahooks</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMouse</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">mouse</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setMouse</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> x</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> y</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMove</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">e</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MouseEvent</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setMouse</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      x</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageX</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      y</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageY</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">useEffect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMove</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMove</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [])</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">mouse</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useScroll</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">scroll</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setScroll</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> left</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> top</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onScroll</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setScroll</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      left</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageXOffset</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      top</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageYOffset</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">useEffect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scroll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onScroll</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scroll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onScroll</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [])</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">scroll</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useEffect</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ahooks</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMouse</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">mouse</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setMouse</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> x</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> y</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMove</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">e</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">MouseEvent</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setMouse</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      x</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageX</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      y</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageY</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">useEffect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMove</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMove</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [])</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">mouse</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useScroll</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">scroll</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setScroll</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> left</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> top</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onScroll</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setScroll</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      left</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageXOffset</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      top</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">pageYOffset</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">useEffect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scroll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onScroll</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scroll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onScroll</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [])</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">scroll</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h1 id="æ€§èƒ½ä¼˜åŒ–" tabindex="-1">æ€§èƒ½ä¼˜åŒ– <a class="header-anchor" href="#æ€§èƒ½ä¼˜åŒ–" aria-label="Permalink to &quot;æ€§èƒ½ä¼˜åŒ–&quot;">â€‹</a></h1><h2 id="ç»„ä»¶æ›´æ–°æœºåˆ¶" tabindex="-1">ç»„ä»¶æ›´æ–°æœºåˆ¶ <a class="header-anchor" href="#ç»„ä»¶æ›´æ–°æœºåˆ¶" aria-label="Permalink to &quot;ç»„ä»¶æ›´æ–°æœºåˆ¶&quot;">â€‹</a></h2><ul><li>setState() çš„ä¸¤ä¸ªä½œç”¨ï¼š 1. ä¿®æ”¹ state 2. æ›´æ–°ç»„ä»¶ï¼ˆUIï¼‰</li><li>è¿‡ç¨‹ï¼šçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œä¹Ÿä¼šé‡æ–°æ¸²æŸ“å­ç»„ä»¶ã€‚ä½†åªä¼šæ¸²æŸ“å½“å‰ç»„ä»¶å­æ ‘ï¼ˆå½“å‰ç»„ä»¶åŠå…¶æ‰€æœ‰å­ç»„ä»¶ï¼‰</li></ul><p><img src="/assets/compenentUpdate.3912dbb8.png" alt=""></p><h2 id="ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-class-ç»„ä»¶" tabindex="-1">ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-class ç»„ä»¶ <a class="header-anchor" href="#ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-class-ç»„ä»¶" aria-label="Permalink to &quot;ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-class ç»„ä»¶&quot;">â€‹</a></h2><ol><li>åŠŸèƒ½ç¬¬ä¸€</li><li>æ€§èƒ½ä¼˜åŒ–</li></ol><h3 id="å‡è½»-state" tabindex="-1">å‡è½» state <a class="header-anchor" href="#å‡è½»-state" aria-label="Permalink to &quot;å‡è½» state&quot;">â€‹</a></h3><ul><li>å‡è½» stateï¼šåªå­˜å‚¨è·Ÿç»„ä»¶æ¸²æŸ“ç›¸å…³çš„æ•°æ®ï¼ˆæ¯”å¦‚ï¼šcount / åˆ—è¡¨æ•°æ® / loading ç­‰ï¼‰</li><li>æ³¨æ„ï¼šä¸ç”¨åšæ¸²æŸ“çš„æ•°æ®ä¸è¦æ”¾åœ¨ state ä¸­ï¼Œæ¯”å¦‚å®šæ—¶å™¨ id ç­‰</li><li>å¯¹äºè¿™ç§éœ€è¦åœ¨å¤šä¸ªæ–¹æ³•ä¸­ç”¨åˆ°çš„æ•°æ®ï¼Œåº”è¯¥ç›´æ¥æ”¾åœ¨ this ä¸­ <ul><li>this.xxx = &#39;bbb&#39;</li><li>this.xxx</li></ul></li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Hello</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">componentDidMount</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// timerIdå­˜å‚¨åˆ°thisä¸­ï¼Œè€Œä¸æ˜¯stateä¸­</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">timerId</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setInterval</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">componentWillUnmount</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#82AAFF;">clearInterval</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">timerId</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> â€¦ </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Hello</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">componentDidMount</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// timerIdå­˜å‚¨åˆ°thisä¸­ï¼Œè€Œä¸æ˜¯stateä¸­</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">timerId</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setInterval</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">componentWillUnmount</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    	</span><span style="color:#82AAFF;">clearInterval</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">timerId</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> â€¦ </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>React ä¸­ä¸è¦æŠŠå’Œæ¸²æŸ“æ— å…³çš„æ•°æ®æ”¾åˆ° state ä¸­</p><h3 id="é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“" tabindex="-1">é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ <a class="header-anchor" href="#é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“" aria-label="Permalink to &quot;é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“&quot;">â€‹</a></h3><ul><li><p>ç»„ä»¶æ›´æ–°æœºåˆ¶ï¼šçˆ¶ç»„ä»¶æ›´æ–°ä¼šå¼•èµ·å­ç»„ä»¶ä¹Ÿè¢«æ›´æ–°ï¼Œè¿™ç§æ€è·¯å¾ˆæ¸…æ™°</p></li><li><p>é—®é¢˜ï¼šå­ç»„ä»¶æ²¡æœ‰ä»»ä½•å˜åŒ–æ—¶ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ ï¼ˆå³ä½¿åˆ°çš„ props æ²¡æœ‰å‘ç”Ÿä»»ä½•çš„æ”¹å˜ï¼‰</p></li><li><p>å¦‚ä½•é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“å‘¢ï¼Ÿ</p></li><li><p>è§£å†³æ–¹å¼ï¼šä½¿ç”¨é’©å­å‡½æ•° <code>shouldComponentUpdate(nextProps, nextState)</code></p></li><li><p>ä½œç”¨ï¼šé€šè¿‡è¿”å›å€¼å†³å®šè¯¥ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ï¼Œè¿”å› true è¡¨ç¤ºé‡æ–°æ¸²æŸ“ï¼Œfalse è¡¨ç¤ºä¸é‡æ–°æ¸²æŸ“</p></li><li><p>è§¦å‘æ—¶æœºï¼šæ›´æ–°é˜¶æ®µçš„é’©å­å‡½æ•°ï¼Œç»„ä»¶é‡æ–°æ¸²æŸ“å‰æ‰§è¡Œ ï¼ˆshouldComponentUpdate =&gt; renderï¼‰</p></li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Hello</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">shouldComponentUpdate</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// æ ¹æ®æ¡ä»¶ï¼Œå†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">â€¦</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Hello</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">shouldComponentUpdate</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// æ ¹æ®æ¡ä»¶ï¼Œå†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">â€¦</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="çº¯ç»„ä»¶" tabindex="-1">çº¯ç»„ä»¶ <a class="header-anchor" href="#çº¯ç»„ä»¶" aria-label="Permalink to &quot;çº¯ç»„ä»¶&quot;">â€‹</a></h3><ul><li>çº¯ç»„ä»¶ï¼š<code>React.PureComponent</code> ä¸ <code>React.Component </code>åŠŸèƒ½ç›¸ä¼¼</li><li>åŒºåˆ«ï¼šPureComponent å†…éƒ¨è‡ªåŠ¨å®ç°äº† shouldComponentUpdate é’©å­ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ¯”è¾ƒ</li><li>åŸç†ï¼šçº¯ç»„ä»¶å†…éƒ¨é€šè¿‡åˆ†åˆ« å¯¹æ¯” å‰åä¸¤æ¬¡ props å’Œ state çš„å€¼ï¼Œæ¥å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Hello</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">PureComponent</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">çº¯ç»„ä»¶</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Hello</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">extends</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">PureComponent</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">çº¯ç»„ä»¶</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>åªæœ‰åœ¨æ€§èƒ½ä¼˜åŒ–çš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°çº¯ç»„ä»¶ï¼Œä¸è¦æ‰€æœ‰çš„ç»„ä»¶éƒ½ä½¿ç”¨çº¯ç»„ä»¶ï¼Œå› ä¸ºçº¯ç»„ä»¶éœ€è¦æ¶ˆè€—æ€§èƒ½è¿›è¡Œå¯¹æ¯”</strong></p><h3 id="çº¯ç»„ä»¶æ¯”è¾ƒ-å€¼ç±»å‹" tabindex="-1">çº¯ç»„ä»¶æ¯”è¾ƒ-å€¼ç±»å‹ <a class="header-anchor" href="#çº¯ç»„ä»¶æ¯”è¾ƒ-å€¼ç±»å‹" aria-label="Permalink to &quot;çº¯ç»„ä»¶æ¯”è¾ƒ-å€¼ç±»å‹&quot;">â€‹</a></h3><ul><li><p>è¯´æ˜ï¼šçº¯ç»„ä»¶å†…éƒ¨çš„å¯¹æ¯”æ˜¯ shallow compareï¼ˆæµ…å±‚å¯¹æ¯”ï¼‰</p></li><li><p>å¯¹äºå€¼ç±»å‹æ¥è¯´ï¼šæ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒï¼ˆç›´æ¥èµ‹å€¼å³å¯ï¼Œæ²¡æœ‰å‘ï¼‰</p></li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#BABED8;"> number </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#BABED8;"> newNumber </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> number</span></span>
<span class="line"><span style="color:#BABED8;">newNumber </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(number </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> newNumber) </span><span style="color:#676E95;font-style:italic;">// false</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#BABED8;"> number </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#BABED8;"> newNumber </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> number</span></span>
<span class="line"><span style="color:#BABED8;">newNumber </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(number </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> newNumber) </span><span style="color:#676E95;font-style:italic;">// false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#BABED8;">state </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#BABED8;">(Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#BABED8;">() </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// PureComponentå†…éƒ¨å¯¹æ¯”ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">æœ€æ–°çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> ä¸Šä¸€æ¬¡çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#676E95;font-style:italic;">// falseï¼Œé‡æ–°æ¸²æŸ“ç»„ä»¶</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#BABED8;">state </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#BABED8;">(Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#BABED8;">() </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// PureComponentå†…éƒ¨å¯¹æ¯”ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">æœ€æ–°çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> ä¸Šä¸€æ¬¡çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#676E95;font-style:italic;">// falseï¼Œé‡æ–°æ¸²æŸ“ç»„ä»¶</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="çº¯ç»„ä»¶æ¯”è¾ƒ-å¼•ç”¨ç±»å‹" tabindex="-1">çº¯ç»„ä»¶æ¯”è¾ƒ-å¼•ç”¨ç±»å‹ <a class="header-anchor" href="#çº¯ç»„ä»¶æ¯”è¾ƒ-å¼•ç”¨ç±»å‹" aria-label="Permalink to &quot;çº¯ç»„ä»¶æ¯”è¾ƒ-å¼•ç”¨ç±»å‹&quot;">â€‹</a></h3><ul><li>è¯´æ˜ï¼šçº¯ç»„ä»¶å†…éƒ¨çš„å¯¹æ¯”æ˜¯ shallow compareï¼ˆæµ…å±‚å¯¹æ¯”ï¼‰</li><li>å¯¹äºå¼•ç”¨ç±»å‹æ¥è¯´ï¼šåªæ¯”è¾ƒå¯¹è±¡çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰æ˜¯å¦ç›¸åŒ</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> newObj </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> obj</span></span>
<span class="line"><span style="color:#BABED8;">newObj</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(newObj </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> obj) </span><span style="color:#676E95;font-style:italic;">// true</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> newObj </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> obj</span></span>
<span class="line"><span style="color:#BABED8;">newObj</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(newObj </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> obj) </span><span style="color:#676E95;font-style:italic;">// true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#BABED8;">state </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">obj</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// é”™è¯¯åšæ³•</span></span>
<span class="line"><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">obj</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// PureComponentå†…éƒ¨æ¯”è¾ƒï¼š</span></span>
<span class="line"><span style="color:#BABED8;">æœ€æ–°çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> ä¸Šä¸€æ¬¡çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj </span><span style="color:#676E95;font-style:italic;">// trueï¼Œä¸é‡æ–°æ¸²æŸ“ç»„ä»¶</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#BABED8;">state </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">obj</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// é”™è¯¯åšæ³•</span></span>
<span class="line"><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">number </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">obj</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// PureComponentå†…éƒ¨æ¯”è¾ƒï¼š</span></span>
<span class="line"><span style="color:#BABED8;">æœ€æ–°çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> ä¸Šä¸€æ¬¡çš„state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj </span><span style="color:#676E95;font-style:italic;">// trueï¼Œä¸é‡æ–°æ¸²æŸ“ç»„ä»¶</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>çº¯ç»„ä»¶çš„æœ€ä½³å®è·µï¼š</p><p>æ³¨æ„ï¼šstate æˆ– props ä¸­å±æ€§å€¼ä¸ºå¼•ç”¨ç±»å‹æ—¶ï¼Œåº”è¯¥åˆ›å»ºæ–°æ•°æ®ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹åŸæ•°æ®ï¼</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ­£ç¡®ï¼åˆ›å»ºæ–°æ•°æ®</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> newObj </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">obj</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> newObj </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ­£ç¡®ï¼åˆ›å»ºæ–°æ•°æ®</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¸è¦ç”¨æ•°ç»„çš„push / unshift ç­‰ç›´æ¥ä¿®æ”¹å½“å‰æ•°ç»„çš„çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è€Œåº”è¯¥ç”¨ concat æˆ– slice ç­‰è¿™äº›è¿”å›æ–°æ•°ç»„çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">list</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">...this.</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">list</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> æ–°æ•°æ® </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ­£ç¡®ï¼åˆ›å»ºæ–°æ•°æ®</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> newObj </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">obj</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> newObj </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ­£ç¡®ï¼åˆ›å»ºæ–°æ•°æ®</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¸è¦ç”¨æ•°ç»„çš„push / unshift ç­‰ç›´æ¥ä¿®æ”¹å½“å‰æ•°ç»„çš„çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è€Œåº”è¯¥ç”¨ concat æˆ– slice ç­‰è¿™äº›è¿”å›æ–°æ•°ç»„çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">setState</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">list</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">...this.</span><span style="color:#BABED8;">state</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">list</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> æ–°æ•°æ® </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-hooks" tabindex="-1">ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-hooks <a class="header-anchor" href="#ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-hooks" aria-label="Permalink to &quot;ç»„ä»¶æ€§èƒ½ä¼˜åŒ–-hooks&quot;">â€‹</a></h2><h3 id="react-memo-é«˜é˜¶ç»„ä»¶" tabindex="-1">React.memo é«˜é˜¶ç»„ä»¶ <a class="header-anchor" href="#react-memo-é«˜é˜¶ç»„ä»¶" aria-label="Permalink to &quot;React.memo é«˜é˜¶ç»„ä»¶&quot;">â€‹</a></h3><h4 id="ä»‹ç»" tabindex="-1">ä»‹ç» <a class="header-anchor" href="#ä»‹ç»" aria-label="Permalink to &quot;ä»‹ç»&quot;">â€‹</a></h4><p>React.memo é«˜é˜¶ç»„ä»¶çš„ä½¿ç”¨åœºæ™¯è¯´æ˜ï¼š</p><p>React ç»„ä»¶æ›´æ–°æœºåˆ¶ï¼šåªè¦çˆ¶ç»„ä»¶çŠ¶æ€æ›´æ–°ï¼Œå­ç»„ä»¶å°±ä¼šæ— æ¡ä»¶çš„ä¸€èµ·æ›´æ–°ã€‚</p><ul><li>å­ç»„ä»¶ props å˜åŒ–æ—¶æ›´æ–°è¿‡ç¨‹ï¼šç»„ä»¶ä»£ç æ‰§è¡Œ -&gt; JSX Diffï¼ˆé…åˆè™šæ‹Ÿ DOMï¼‰-&gt; æ¸²æŸ“ï¼ˆå˜åŒ–åçš„å†…å®¹ï¼‰ã€ DOM æ“ä½œã€‘ã€‚</li><li>å­ç»„ä»¶ props æ— å˜åŒ–æ›´æ–°è¿‡ç¨‹ï¼šç»„ä»¶ä»£ç æ‰§è¡Œ -&gt; JSX Diffï¼ˆé…åˆè™šæ‹Ÿ DOMï¼‰ã€æ—  DOM æ“ä½œã€‘ã€‚</li></ul><p>æ³¨æ„ï¼šæ­¤å¤„æ›´æ–°æŒ‡çš„æ˜¯ç»„ä»¶ä»£ç æ‰§è¡Œã€JSX è¿›è¡Œ Diff æ“ä½œï¼ˆçº¯ JS çš„æ“ä½œï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œä¸ä¼šå¯¹æ€§èƒ½äº§ç”Ÿå¤ªå¤šå½±å“ï¼‰ã€‚</p><ul><li>å¦‚æœç»„ä»¶ props æ”¹å˜äº†ï¼Œé‚£ä¹ˆï¼Œè¯¥ç»„ä»¶å°±å¿…é¡»è¦æ›´æ–°ï¼Œæ‰èƒ½æ¥æ”¶åˆ°æœ€æ–°çš„ propsã€‚</li><li>ä½†æ˜¯ï¼Œå¦‚æœç»„ä»¶ props æ²¡æœ‰æ”¹å˜æ—¶ï¼Œç»„ä»¶ä¹Ÿè¦è¿›è¡Œä¸€æ¬¡æ›´æ–°ã€‚å®é™…ä¸Šï¼Œè¿™ä¸€æ¬¡æ›´æ–°æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚</li></ul><p>å¦‚æœè¦é¿å…ç»„ä»¶ props æ²¡æœ‰å˜åŒ–è€Œè¿›è¡Œçš„ä¸å¿…è¦æ›´æ–°ï¼ˆDiffï¼‰ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå°±è¦ä½¿ç”¨ React.memo é«˜é˜¶ç»„ä»¶ã€‚</p><p>æ³¨ï¼š<code>å¯¹äº class ç»„ä»¶æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ PureComponent æˆ– shouldComponentUpdate é’©å­å‡½æ•°æ¥å®ç°</code>ã€‚</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> ReactDOM </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-dom</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> Child2 </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">({</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">count</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">})</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Child2 å­ç»„ä»¶ä»£ç æ‰§è¡Œäº†</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}}&gt;</span><span style="color:#BABED8;">å­ç»„ä»¶2ï¼š</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> Child1 </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Child1 å­ç»„ä»¶ä»£ç æ‰§è¡Œäº†</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#def</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}}&gt;</span><span style="color:#BABED8;">å­ç»„ä»¶1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setCount</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}}&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">è®¡æ•°å™¨ï¼š</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setCount</span><span style="color:#BABED8;">(count </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">+1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">/* å­ç»„ä»¶ */</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child1</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child2</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">count</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;"> /&gt;,</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">))</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> ReactDOM </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-dom</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> Child2 </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">({</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">count</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">})</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Child2 å­ç»„ä»¶ä»£ç æ‰§è¡Œäº†</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}}&gt;</span><span style="color:#BABED8;">å­ç»„ä»¶2ï¼š</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> Child1 </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Child1 å­ç»„ä»¶ä»£ç æ‰§è¡Œäº†</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#def</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}}&gt;</span><span style="color:#BABED8;">å­ç»„ä»¶1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setCount</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}}&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">è®¡æ•°å™¨ï¼š</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setCount</span><span style="color:#BABED8;">(count </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">+1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">/* å­ç»„ä»¶ */</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child1</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child2</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">count</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;"> /&gt;,</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="è¯­æ³•" tabindex="-1">è¯­æ³• <a class="header-anchor" href="#è¯­æ³•" aria-label="Permalink to &quot;è¯­æ³•&quot;">â€‹</a></h4><p>ä½¿ç”¨åœºæ™¯ï¼šå½“ä½ æƒ³è¦é¿å…å‡½æ•°ç»„ä»¶ props æ²¡æœ‰å˜åŒ–è€Œäº§ç”Ÿçš„ä¸å¿…è¦æ›´æ–°æ—¶ï¼Œå°±è¦ç”¨åˆ° React.memo äº†ã€‚</p><p>ä½œç”¨ï¼š<strong>è®°å¿†ç»„ä»¶ä¸Šä¸€æ¬¡çš„æ¸²æŸ“ç»“æœï¼Œåœ¨ props æ²¡æœ‰å˜åŒ–æ—¶å¤ç”¨è¯¥ç»“æœï¼Œé¿å…å‡½æ•°ç»„ä»¶ä¸å¿…è¦çš„æ›´æ–°</strong>ã€‚</p><p><img src="/assets/image-20210830205522685.9a53eca5.png" alt="image-20210830205522685"></p><p>è§£é‡Šï¼š</p><ul><li>React.memo æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œç”¨æ¥è®°å¿†ï¼ˆmemorizeï¼‰ç»„ä»¶ã€‚</li><li>å‚æ•°ï¼ˆChildï¼‰ï¼šéœ€è¦è¢«è®°å¿†çš„ç»„ä»¶ï¼Œæˆ–è€…è¯´æ˜¯éœ€è¦é¿å…ä¸å¿…è¦æ›´æ–°çš„ç»„ä»¶ã€‚</li><li>è¿”å›å€¼ï¼ˆMemoChildï¼‰ï¼šReact è®°ä½çš„ Child ç»„ä»¶ã€‚</li></ul><p>åŸç†ï¼šé€šè¿‡å¯¹æ¯”æ£€æŸ¥æ›´æ–°å‰å props æ˜¯å¦ç›¸åŒï¼Œæ¥å†³å®šæ˜¯å¦å¤ç”¨ä¸Šä¸€æ¬¡çš„æ¸²æŸ“ç»“æœï¼Œ</p><ul><li>å¦‚æœç›¸åŒï¼Œå¤ç”¨ä¸Šä¸€æ¬¡çš„æ¸²æŸ“ç»“æœï¼›</li><li>å¦‚æœä¸åŒï¼Œé‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚</li></ul><p><strong>å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç»„ä»¶éƒ½é€‚åˆä½¿ç”¨ memoï¼Œæ¯”å¦‚ child2 ç»„ä»¶ï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œä½¿ç”¨ memo åè€Œä¼šä½¿æ€§èƒ½å˜å¾—æ›´ä½ï¼Œé€»è¾‘ä¹Ÿå˜å¾—æ›´å¤æ‚</strong></p><h4 id="æµ…å±‚å¯¹æ¯”" tabindex="-1">æµ…å±‚å¯¹æ¯” <a class="header-anchor" href="#æµ…å±‚å¯¹æ¯”" aria-label="Permalink to &quot;æµ…å±‚å¯¹æ¯”&quot;">â€‹</a></h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact.memo åªä¼šå¯¹æ›´æ–°å‰åçš„ props è¿›è¡Œæµ…å¯¹æ¯”ï¼ˆshallow compareï¼‰ä¸ PureComponent ç›¸åŒã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå¯¹è±¡ç±»å‹çš„ prop æ¥è¯´ï¼Œåªä¼šæ¯”è¾ƒå¼•ç”¨</p><ul><li>å¦‚æœæ›´æ–°å‰åçš„å¼•ç”¨ç›¸åŒï¼Œå¤ç”¨ä¸Šä¸€æ¬¡çš„æ¸²æŸ“ç»“æœï¼ˆä¸ä¼šé‡æ–°æ¸²æŸ“è¯¥ç»„ä»¶ï¼‰ã€‚</li><li>å¦‚æœæ›´æ–°å‰åçš„å¼•ç”¨ä¸åŒï¼Œé‡æ–°æ¸²æŸ“è¯¥ç»„ä»¶ã€‚</li></ul><p>å¦‚æœä½ è¦æ‰‹åŠ¨æ§åˆ¶æ¯”è¾ƒè¿‡ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ React.memo çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š</p><p><img src="/assets/image-20210830220716165.4e46716f.png" alt="image-20210830220716165"></p><p>è§£é‡Šï¼š</p><ul><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šç”¨æ¥æ¯”è¾ƒæ›´æ–°å‰å props çš„å‡½æ•°ã€‚</li><li>è¿”å›å€¼ï¼šå¦‚æœè¿”å› trueï¼Œè¡¨ç¤ºè®°ä½ï¼ˆä¸é‡æ–°æ¸²æŸ“ï¼‰è¯¥ç»„ä»¶ï¼›å¦‚æœè¿”å› falseï¼Œè¡¨ç¤ºé‡æ–°æ¸²æŸ“è¯¥ç»„ä»¶ã€‚</li></ul><h3 id="usecallback-hook" tabindex="-1">useCallback hook <a class="header-anchor" href="#usecallback-hook" aria-label="Permalink to &quot;useCallback hook&quot;">â€‹</a></h3><h4 id="ä½¿ç”¨åœºæ™¯" tabindex="-1">ä½¿ç”¨åœºæ™¯ <a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯" aria-label="Permalink to &quot;ä½¿ç”¨åœºæ™¯&quot;">â€‹</a></h4><p>åœ¨ä½¿ç”¨ React.memo æ—¶ï¼Œå¯¹äºå¯¹è±¡ç±»å‹çš„ propsï¼Œåªä¼šæ¯”è¾ƒå¼•ç”¨ï¼ˆæµ…å¯¹æ¯”ï¼‰ã€‚</p><p>ä½†æ˜¯ï¼Œå› ä¸º<strong>ç»„ä»¶æ¯æ¬¡æ›´æ–°éƒ½ä¼šåˆ›å»ºæ–°çš„ props å€¼</strong>ï¼Œæ¯”å¦‚ï¼Œæ–°çš„å¯¹è±¡ã€äº‹ä»¶å¤„ç†ç¨‹åºç­‰ï¼ˆå‡½æ•°ç»„ä»¶çš„ç‰¹æ€§ï¼‰ã€‚</p><p>è¿™å°±å¯¼è‡´ï¼šReact.memo åœ¨å¤„ç†å¯¹è±¡ç±»å‹çš„ props æ—¶ï¼Œä¼šå¤±æ•ˆï¼ˆæ¯æ¬¡çš„ props éƒ½æ˜¯æ–°å¯¹è±¡ï¼‰ã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜æ˜¯æƒ³è®© React.memo åœ¨å¤„ç†å¯¹è±¡ç±»å‹çš„ props æ—¶ï¼Œä¹Ÿæœ‰æ•ˆã€‚</p><p>ä¸ºäº†è®© React.memo å¤„ç†å¯¹è±¡ç±»å‹çš„ props æœ‰æ•ˆï¼Œåªè¦åœ¨<em>ç»„ä»¶æ›´æ–°æœŸé—´ä¿æŒå¯¹è±¡ç±»å‹å¼•ç”¨ç›¸</em>ç­‰ï¼Œå°±å¯ä»¥äº†ã€‚</p><p>è¿™æ—¶å€™ï¼Œå°±è¦ç”¨åˆ°ä»¥ä¸‹ä¸¤ä¸ª Hooksï¼š</p><ul><li><code>useCallback</code> Hookï¼šè®°ä½å‡½æ•°çš„å¼•ç”¨ï¼Œåœ¨ç»„ä»¶æ¯æ¬¡æ›´æ–°æ—¶è¿”å›ç›¸åŒå¼•ç”¨çš„å‡½æ•°ã€‚</li><li><code>useMemo</code> Hookï¼šè®°ä½ä»»æ„æ•°æ®ï¼ˆæ•°å€¼ã€å¯¹è±¡ã€å‡½æ•°ç­‰ï¼‰ï¼Œåœ¨ç»„ä»¶æ¯æ¬¡æ›´æ–°æ—¶è¿”å›ç›¸åŒå¼•ç”¨çš„æ•°æ®ã€åŠŸèƒ½ä¹‹ä¸€ã€‘</li></ul><h4 id="åŸºæœ¬ä½¿ç”¨" tabindex="-1">åŸºæœ¬ä½¿ç”¨ <a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨" aria-label="Permalink to &quot;åŸºæœ¬ä½¿ç”¨&quot;">â€‹</a></h4><p>ä½¿ç”¨åœºæ™¯ï¼šåœ¨ä½¿ç”¨ React.memo æ—¶ï¼Œä¸ºäº†ç»„ä»¶æ¯æ¬¡æ›´æ–°æ—¶éƒ½èƒ½è·å–åˆ°ç›¸åŒå¼•ç”¨çš„å‡½æ•°ï¼Œå°±è¦ç”¨åˆ° useCallback Hook</p><p>æ³¨æ„ï¼š<strong>éœ€è¦é…åˆ React.memo é«˜é˜¶å‡½æ•°ä¸€èµ·ä½¿ç”¨</strong>ã€‚</p><p>ä½œç”¨ï¼šè®°å¿†ä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªè¢«è®°ä½çš„å›è°ƒå‡½æ•°ä¼šä¸€ç›´ç”Ÿæ•ˆï¼Œç›´åˆ°ä¾èµ–é¡¹å‘ç”Ÿæ”¹å˜</p><p><img src="/assets/image-20210830230820580.a4fa81b0.png" alt="image-20210830230820580"></p><p>è§£é‡Šï¼š</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå¿…é€‰ï¼Œéœ€è¦è¢«è®°å¿†çš„å›è°ƒå‡½æ•°ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šå¿…é€‰ï¼Œä¾èµ–é¡¹æ•°ç»„ï¼Œç”¨äºæŒ‡å®šå›è°ƒå‡½æ•°ä¸­ä¾èµ–ï¼ˆç”¨åˆ°ï¼‰çš„æ•°æ®ï¼ˆç±»ä¼¼äº useEffect çš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰ã€‚</li><li>å³ä½¿æ²¡æœ‰ä¾èµ–ï¼Œä¹Ÿå¾—ä¼ å…¥ç©ºæ•°ç»„ï¼ˆ[]ï¼‰ï¼Œæ­¤æ—¶ï¼ŒuseCallback è®°ä½çš„å›è°ƒå‡½æ•°å°±ä¼šä¸€ç›´ç”Ÿæ•ˆã€‚</li><li>è¿”å›å€¼ï¼šuseCallback è®°ä½çš„å›è°ƒå‡½æ•°ã€‚</li><li>useCallback è®°ä½çš„å›è°ƒå‡½æ•°ä¼šä¸€ç›´ç”Ÿæ•ˆï¼ˆæˆ–è€…è¯´ä¼šä¸€ç›´è¿”å›åŒä¸€ä¸ªå›è°ƒå‡½æ•°ï¼‰ï¼Œç›´åˆ°ä¾èµ–é¡¹å‘ç”Ÿæ”¹å˜ã€‚</li></ul><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useState</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">memo</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useCallback</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> ReactDOM </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-dom</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setCount</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">money</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setMoney</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">help</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useCallback</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setCount</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [</span><span style="color:#BABED8;">count</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">è®¡æ•°å™¨</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">è±†è±†è¢«æ‰“äº†</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">æ¬¡</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">é‡‘é’±ï¼š</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">money</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setCount</span><span style="color:#BABED8;">(count </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">æ‰“è±†è±†</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setMoney</span><span style="color:#BABED8;">(money </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">100</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">åŠ é’±</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">5</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">DouDou</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">count</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">} </span><span style="color:#C792EA;">help</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">help</span><span style="color:#89DDFF;">}&gt;&lt;/</span><span style="color:#FFCB6B;">DouDou</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">è±†è±†è¢«æ‰“æ­»äº†</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> DouDou </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">memo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">({</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">count</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">help</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">})</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">è±†è±†ç»„ä»¶æ¸²æŸ“</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h3</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">æˆ‘æ˜¯è±†è±†ç»„ä»¶</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">h3</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">help</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">ç»­å‘½</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;"> /&gt;,</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">))</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useState</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">memo</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useCallback</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> ReactDOM </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-dom</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setCount</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">money</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">setMoney</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">help</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useCallback</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setCount</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [</span><span style="color:#BABED8;">count</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">è®¡æ•°å™¨</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">è±†è±†è¢«æ‰“äº†</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">æ¬¡</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">é‡‘é’±ï¼š</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">money</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setCount</span><span style="color:#BABED8;">(count </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">æ‰“è±†è±†</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setMoney</span><span style="color:#BABED8;">(money </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">100</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">åŠ é’±</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">5</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">DouDou</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">count</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">} </span><span style="color:#C792EA;">help</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">help</span><span style="color:#89DDFF;">}&gt;&lt;/</span><span style="color:#FFCB6B;">DouDou</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">è±†è±†è¢«æ‰“æ­»äº†</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> DouDou </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">memo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">({</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">count</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">help</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">})</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">è±†è±†ç»„ä»¶æ¸²æŸ“</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h3</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">æˆ‘æ˜¯è±†è±†ç»„ä»¶</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">h3</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">help</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#BABED8;">ç»­å‘½</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;"> /&gt;,</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><strong>useCallback éœ€è¦é…ç½® React.memo ä½¿ç”¨æ‰æœ‰æ„ä¹‰ï¼Œä¸ç„¶åè€Œæ€§èƒ½æ›´ä½ï¼Œå› ä¸º useCallback æ¥åŒ…è£¹å‡½æ•°ä¹Ÿæ˜¯éœ€è¦å¼€é”€çš„</strong></p><h3 id="usememo-hook" tabindex="-1">useMemo hook <a class="header-anchor" href="#usememo-hook" aria-label="Permalink to &quot;useMemo hook&quot;">â€‹</a></h3><p>ä½¿ç”¨åœºæ™¯ï¼šç±»ä¼¼äº useCallbackï¼Œå¯ä»¥åœ¨ç»„ä»¶æ›´æ–°æœŸé—´ä¿æŒä»»æ„æ•°æ®å¼•ç”¨ç›¸ç­‰ï¼Œä¸€èˆ¬ç”¨æ¥å¤„ç†å¯¹è±¡ç±»å‹çš„æ•°æ®</p><p>å¯¹æ¯”ï¼šuseCallback åªèƒ½è®°å¿†å‡½æ•°ï¼Œè€Œ useMemo å¯ä»¥è®°å¿†ä»»æ„æ•°æ®ã€‚</p><p>ä½œç”¨ï¼š<strong>è®°å¿†ä»»æ„æ•°æ®ï¼Œè¿™ä¸ªè¢«è®°ä½çš„æ•°æ®ä¼šä¸€ç›´ç”Ÿæ•ˆï¼Œç›´åˆ°ä¾èµ–é¡¹å‘ç”Ÿæ”¹å˜ 1</strong>ã€‚</p><p><img src="/assets/image-20210901200419531.ac2423e3.png" alt="image-20210901200419531"></p><p>è¯­æ³•</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå¿…é€‰ï¼Œå›è°ƒå‡½æ•°ã€‚æ³¨æ„ï¼š<strong>è¯¥å›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œå¹¶é€šè¿‡è¿”å›å€¼æŒ‡å®šéœ€è¦è¢«è®°ä½çš„æ•°æ®</strong>ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šå¿…é€‰ï¼Œä¾èµ–é¡¹æ•°ç»„ï¼Œç”¨äºæŒ‡å®šå›è°ƒå‡½æ•°ä¸­ä¾èµ–ï¼ˆç”¨åˆ°ï¼‰çš„æ•°æ®ã€‚åŒæ ·ï¼Œæ²¡æœ‰ä¾èµ–é¡¹æ—¶ï¼Œä¼ å…¥ç©ºæ•°ç»„ï¼ˆ[]ï¼‰ã€‚</li><li>è¿”å›å€¼ï¼šuseMemo è®°ä½çš„æ•°æ®</li><li>useMemo è®°ä½çš„æ•°æ®ä¼šä¸€ç›´ç”Ÿæ•ˆï¼ˆæˆ–è€…è¯´ä¼šä¸€ç›´è¿”å›åŒä¸€ä¸ªæ•°æ®ï¼‰ï¼Œç›´åˆ°ä¾èµ–é¡¹å‘ç”Ÿæ”¹å˜ã€‚</li></ul><p>å¦‚ä½•é€‰æ‹©ä½¿ç”¨å“ªä¸€ä¸ªï¼Ÿ</p><ul><li>å¦‚æœå¤„ç†çš„æ˜¯å‡½æ•°ï¼Œæ¨èä½¿ç”¨ useCallback Hookã€‚</li><li>å¦‚æœå¤„ç†çš„æ˜¯å…¶ä»–æ•°æ®ï¼ˆæ¯”å¦‚ï¼Œå¯¹è±¡ï¼‰ï¼Œæ¨èä½¿ç”¨ useMemo Hookã€‚</li></ul><h3 id="æ¨¡æ‹Ÿ-usecallback-çš„ç”¨æ³•" tabindex="-1">æ¨¡æ‹Ÿ useCallback çš„ç”¨æ³• <a class="header-anchor" href="#æ¨¡æ‹Ÿ-usecallback-çš„ç”¨æ³•" aria-label="Permalink to &quot;æ¨¡æ‹Ÿ useCallback çš„ç”¨æ³•&quot;">â€‹</a></h3><blockquote><p><code>useCallback(fn, deps)</code> ç›¸å½“äº <code>useMemo(() =&gt; fn, deps)</code>ã€‚</p></blockquote><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> help </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useCallback</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">setCount</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#BABED8;"> [count])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> help </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMemo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setCount</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#BABED8;"> [count])</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> help </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useCallback</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">setCount</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#BABED8;"> [count])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> help </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMemo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setCount</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#BABED8;"> [count])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> memoizedValue </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMemo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">computeExpensiveValue</span><span style="color:#BABED8;">(a</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> b)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> [a</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> b])</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> memoizedValue </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">useMemo</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">computeExpensiveValue</span><span style="color:#BABED8;">(a</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> b)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> [a</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> b])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h1 id="è™šæ‹Ÿ-dom-ä¸-diff-ç®—æ³•-stack-æ¶æ„" tabindex="-1">è™šæ‹Ÿ DOM ä¸ diff ç®—æ³• ï¼ˆstack æ¶æ„ï¼‰ <a class="header-anchor" href="#è™šæ‹Ÿ-dom-ä¸-diff-ç®—æ³•-stack-æ¶æ„" aria-label="Permalink to &quot;è™šæ‹Ÿ DOM ä¸ diff ç®—æ³• ï¼ˆstack æ¶æ„ï¼‰&quot;">â€‹</a></h1><h3 id="è™šæ‹Ÿ-dom-å’Œ-diff-ç®—æ³•" tabindex="-1">è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³• <a class="header-anchor" href="#è™šæ‹Ÿ-dom-å’Œ-diff-ç®—æ³•" aria-label="Permalink to &quot;è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³•&quot;">â€‹</a></h3><h4 id="è™šæ‹Ÿ-dom-å¯¹è±¡" tabindex="-1">è™šæ‹Ÿ DOM å¯¹è±¡ <a class="header-anchor" href="#è™šæ‹Ÿ-dom-å¯¹è±¡" aria-label="Permalink to &quot;è™šæ‹Ÿ DOM å¯¹è±¡&quot;">â€‹</a></h4><ul><li><p>ä¸ºä»€ä¹ˆä½¿ç”¨è™šæ‹Ÿ DOMï¼Ÿ</p><ol><li>çœŸæ­£çš„ DOM å¯¹è±¡å±æ€§å¾ˆå¤šï¼Œå¤„ç†èµ·æ¥ä¸æ–¹ä¾¿</li><li>æ€§èƒ½è§’åº¦</li><li>è™šæ‹Ÿ DOM çš„çœŸæ­£ä»·å€¼ï¼šè·¨å¹³å°</li></ol></li><li><p>Virtual DOM</p></li><li><p>è™šæ‹Ÿ DOM å¯¹è±¡ï¼šå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ JS å¯¹è±¡ï¼Œç”¨æ¥æè¿°æˆ‘ä»¬å¸Œæœ›åœ¨é¡µé¢ä¸­çœ‹åˆ°çš„ HTML ç»“æ„å†…å®¹</p></li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> element </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">props</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">className</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">greeting</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">children</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello JSX!</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { type: &#39;div&#39; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">123</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { type: &#39;div&#39;, props: { chilren: &#39;123&#39; } }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tab</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">123</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { type: &#39;div&#39;, props: { className: &#39;tab&#39;, chilren: &#39;123&#39; } }</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> element </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">props</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">className</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">greeting</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">children</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello JSX!</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { type: &#39;div&#39; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">123</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { type: &#39;div&#39;, props: { chilren: &#39;123&#39; } }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tab</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">123</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { type: &#39;div&#39;, props: { className: &#39;tab&#39;, chilren: &#39;123&#39; } }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>åŸç”Ÿ DOM å¯¹è±¡ï¼š ä¹Ÿæ˜¯ä¸€ä¸ª JS å¯¹è±¡ï¼Œæ˜¯æµè§ˆå™¨é»˜è®¤æä¾›çš„</li><li>DOM å¯¹è±¡ å’Œ HTML å…ƒç´ ä¹‹é—´æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»</li></ul><h4 id="react-jsx-è¯­æ³•è½¬åŒ–çš„è¿‡ç¨‹" tabindex="-1">React JSX è¯­æ³•è½¬åŒ–çš„è¿‡ç¨‹ <a class="header-anchor" href="#react-jsx-è¯­æ³•è½¬åŒ–çš„è¿‡ç¨‹" aria-label="Permalink to &quot;React JSX è¯­æ³•è½¬åŒ–çš„è¿‡ç¨‹&quot;">â€‹</a></h4><ul><li>è½¬åŒ–è¿‡ç¨‹ï¼šJSX -&gt; React.createEelement()/_jsx -&gt; è™šæ‹Ÿ DOM</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// JSX</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> el </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}}&gt;</span><span style="color:#BABED8;">123</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ—§çš„è½¬åŒ–æ–¹å¼ï¼š</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// React å…ƒç´ </span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> el </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">/*#__PURE__*/</span><span style="color:#BABED8;">React</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">className</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°çš„è½¬åŒ–æ–¹å¼ï¼š</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> _jsxRuntime </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react/jsx-runtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> el </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">/*#__PURE__*/</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> _jsxRuntime</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">jsx)(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">className</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">children</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è™šæ‹Ÿ DOM</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">props</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">className</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">children</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// JSX</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> el </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}}&gt;</span><span style="color:#BABED8;">123</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ—§çš„è½¬åŒ–æ–¹å¼ï¼š</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// React å…ƒç´ </span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> el </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">/*#__PURE__*/</span><span style="color:#BABED8;">React</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">className</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°çš„è½¬åŒ–æ–¹å¼ï¼š</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> _jsxRuntime </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react/jsx-runtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> el </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">/*#__PURE__*/</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> _jsxRuntime</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">jsx)(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">className</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">children</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è™šæ‹Ÿ DOM</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">props</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">className</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">children</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="virtual-dom-å¦‚ä½•æå‡æ•ˆç‡" tabindex="-1">Virtual DOM å¦‚ä½•æå‡æ•ˆç‡ <a class="header-anchor" href="#virtual-dom-å¦‚ä½•æå‡æ•ˆç‡" aria-label="Permalink to &quot;Virtual DOM å¦‚ä½•æå‡æ•ˆç‡&quot;">â€‹</a></h3><p>ç²¾å‡†æ‰¾å‡ºå‘ç”Ÿå˜åŒ–çš„ DOM å¯¹è±¡ï¼Œåªæ›´æ–°å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†ã€‚</p><p>åœ¨ React ç¬¬ä¸€æ¬¡åˆ›å»º DOM å¯¹è±¡åï¼Œä¼šä¸ºæ¯ä¸ª DOM å¯¹è±¡åˆ›å»ºå…¶å¯¹åº”çš„ Virtual DOM å¯¹è±¡ï¼Œåœ¨ DOM å¯¹è±¡å‘ç”Ÿæ›´æ–°ä¹‹å‰ï¼ŒReact ä¼šå…ˆæ›´æ–°æ‰€æœ‰çš„ Virtual DOM å¯¹è±¡ï¼Œç„¶å React ä¼šå°†æ›´æ–°åçš„ Virtual DOM å’Œ æ›´æ–°å‰çš„ Virtual DOM è¿›è¡Œæ¯”è¾ƒï¼Œä»è€Œæ‰¾å‡ºå‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†ï¼ŒReact ä¼šå°†å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†æ›´æ–°åˆ°çœŸå®çš„ DOM å¯¹è±¡ä¸­ï¼ŒReact ä»…æ›´æ–°å¿…è¦æ›´æ–°çš„éƒ¨åˆ†ã€‚</p><p>Virtual DOM å¯¹è±¡çš„æ›´æ–°å’Œæ¯”è¾ƒä»…å‘ç”Ÿåœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨è§†å›¾ä¸­æ¸²æŸ“ä»»ä½•å†…å®¹ï¼Œæ‰€ä»¥è¿™ä¸€éƒ¨åˆ†çš„æ€§èƒ½æŸè€—æˆæœ¬æ˜¯å¾®ä¸è¶³é“çš„ã€‚</p><p><img src="/assets/image-20220117131623943.4eaa9624.png" alt="image-20220117131623943"></p><h4 id="diff-ç®—æ³•çš„è¯´æ˜" tabindex="-1">Diff ç®—æ³•çš„è¯´æ˜ <a class="header-anchor" href="#diff-ç®—æ³•çš„è¯´æ˜" aria-label="Permalink to &quot;Diff ç®—æ³•çš„è¯´æ˜&quot;">â€‹</a></h4><p><a href="https://www.jianshu.com/p/3ba0822018cf" target="_blank" rel="noreferrer">https://www.jianshu.com/p/3ba0822018cf</a></p><ul><li>ç¬¬ä¸€æ¬¡é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹ï¼š1 JSX + state =&gt; 2 è™šæ‹Ÿ DOM æ ‘ï¼ˆJS å¯¹è±¡ï¼‰ =&gt; 3 æµè§ˆå™¨ä¸­çœ‹åˆ°çš„ HTML ç»“æ„å†…å®¹</li><li>å½“æ›´æ–°äº†çŠ¶æ€ï¼Œå°±ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œä¹Ÿå°±ä¼šé‡æ–°ç”Ÿæˆä¸€æ£µæ–°çš„ è™šæ‹Ÿ DOM æ ‘</li><li>Diff ç®—æ³•å°±ä¼šï¼šå¯¹æ¯” åˆå§‹è™šæ‹Ÿ DOM æ ‘ å’Œ æ›´æ–°åçš„è™šæ‹Ÿ DOM æ ‘ï¼Œæ‰¾åˆ°ä¸åŒä¹‹å¤„ï¼Œæœ€ç»ˆï¼Œåªå°†ä¸åŒçš„åœ°æ–¹æ›´æ–°åˆ°é¡µé¢ä¸­</li></ul><h4 id="ä¸€ä¸ªç»„ä»¶å†…éƒ¨æ›´æ–°æœºåˆ¶" tabindex="-1">ä¸€ä¸ªç»„ä»¶å†…éƒ¨æ›´æ–°æœºåˆ¶ <a class="header-anchor" href="#ä¸€ä¸ªç»„ä»¶å†…éƒ¨æ›´æ–°æœºåˆ¶" aria-label="Permalink to &quot;ä¸€ä¸ªç»„ä»¶å†…éƒ¨æ›´æ–°æœºåˆ¶&quot;">â€‹</a></h4><ul><li>åªè¦æƒ³è®©çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œå°±è°ƒç”¨ setState()ï¼Œåªè¦è°ƒç”¨ setState()ï¼Œå°±ä¼šæ‰§è¡Œç»„ä»¶çš„ render æ–¹æ³•ã€‚æ¥é‡æ–°æ¸²æŸ“ç»„ä»¶</li><li>æ³¨æ„ï¼šrender é‡æ–°æ‰§è¡Œï¼Œä¸ä»£è¡¨æŠŠæ•´ä¸ªç»„ä»¶é‡æ–°æ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚è€Œå®é™…ä¸Šï¼ŒReact å†…éƒ¨ä¼šä½¿ç”¨ <em>è™šæ‹Ÿ DOM</em> å’Œ <em>Diff ç®—æ³•</em>æ¥åšåˆ° <strong>éƒ¨åˆ†æ›´æ–°</strong>ã€‚ <ul><li>éƒ¨åˆ†æ›´æ–°ï¼ˆæ‰“è¡¥ä¸ï¼‰ï¼šåªå°†å˜åŒ–çš„åœ°æ–¹é‡æ–°æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œè¿™æ ·ï¼Œå°½é‡å‡å°‘äº† DOM æ“ä½œ</li></ul></li></ul><h4 id="diff-ç®—æ³•çš„è¯´æ˜-1" tabindex="-1">Diff ç®—æ³•çš„è¯´æ˜ - 1 <a class="header-anchor" href="#diff-ç®—æ³•çš„è¯´æ˜-1" aria-label="Permalink to &quot;Diff ç®—æ³•çš„è¯´æ˜ - 1&quot;">â€‹</a></h4><ul><li>å¦‚æœä¸¤æ£µæ ‘çš„<strong>æ ¹å…ƒç´ ç±»å‹</strong>ä¸åŒï¼ŒReact ä¼šé”€æ¯æ—§æ ‘ï¼Œåˆ›å»ºæ–°æ ‘</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§æ ‘</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Counter</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°æ ‘</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Counter</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼šdestory Counter </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#BABED8;"> insert Counter</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§æ ‘</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Counter</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°æ ‘</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Counter</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼šdestory Counter </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#BABED8;"> insert Counter</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="diff-ç®—æ³•çš„è¯´æ˜-2" tabindex="-1">Diff ç®—æ³•çš„è¯´æ˜ - 2 <a class="header-anchor" href="#diff-ç®—æ³•çš„è¯´æ˜-2" aria-label="Permalink to &quot;Diff ç®—æ³•çš„è¯´æ˜ - 2&quot;">â€‹</a></h4><ul><li>å¯¹äºç±»å‹ç›¸åŒçš„ React DOM å…ƒç´ ï¼ŒReact ä¼šå¯¹æ¯”ä¸¤è€…çš„å±æ€§æ˜¯å¦ç›¸åŒï¼Œåªæ›´æ–°ä¸åŒçš„å±æ€§</li><li>å½“å¤„ç†å®Œè¿™ä¸ª DOM èŠ‚ç‚¹ï¼ŒReact å°±ä¼šé€’å½’å¤„ç†å­èŠ‚ç‚¹ã€‚</li></ul><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#BABED8;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">before</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stuff</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">after</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stuff</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">åªæ›´æ–°ï¼šclassName å±æ€§</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{{color:</span><span style="color:#89DDFF;"> &#39;red&#39;, </span><span style="color:#C792EA;">fontWeight:</span><span style="color:#89DDFF;"> &#39;bold&#39;}}&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{{color:</span><span style="color:#89DDFF;"> &#39;green&#39;, </span><span style="color:#C792EA;">fontWeight:</span><span style="color:#89DDFF;"> &#39;bold&#39;}}&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">åªæ›´æ–°ï¼šcolorå±æ€§</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#BABED8;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">before</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stuff</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">after</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stuff</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">åªæ›´æ–°ï¼šclassName å±æ€§</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{{color:</span><span style="color:#89DDFF;"> &#39;red&#39;, </span><span style="color:#C792EA;">fontWeight:</span><span style="color:#89DDFF;"> &#39;bold&#39;}}&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{{color:</span><span style="color:#89DDFF;"> &#39;green&#39;, </span><span style="color:#C792EA;">fontWeight:</span><span style="color:#89DDFF;"> &#39;bold&#39;}}&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">åªæ›´æ–°ï¼šcolorå±æ€§</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="diff-ç®—æ³•çš„è¯´æ˜-3" tabindex="-1">Diff ç®—æ³•çš„è¯´æ˜ - 3 <a class="header-anchor" href="#diff-ç®—æ³•çš„è¯´æ˜-3" aria-label="Permalink to &quot;Diff ç®—æ³•çš„è¯´æ˜ - 3&quot;">â€‹</a></h4><ul><li>1 å½“åœ¨å­èŠ‚ç‚¹çš„åé¢æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™ä¸¤æ£µæ ‘çš„è½¬åŒ–å·¥ä½œæ‰§è¡Œçš„å¾ˆå¥½</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">first</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">second</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">first</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">second</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">third</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">Reactä¼šåŒ¹é…æ–°æ—§ä¸¤ä¸ª</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">first</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">ï¼ŒåŒ¹é…ä¸¤ä¸ª</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">second</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">ï¼Œç„¶åæ·»åŠ  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">third</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> tree</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">first</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">second</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">first</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">second</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">third</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">Reactä¼šåŒ¹é…æ–°æ—§ä¸¤ä¸ª</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">first</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">ï¼ŒåŒ¹é…ä¸¤ä¸ª</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">second</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">ï¼Œç„¶åæ·»åŠ  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">third</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> tree</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>2 ä½†æ˜¯å¦‚æœä½ åœ¨å¼€å§‹ä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼š</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">3</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">Reactå°†æ”¹å˜æ¯ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè€Œéä¿æŒ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">Duke</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> å’Œ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">Villanova</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> ä¸å˜</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">3</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">Reactå°†æ”¹å˜æ¯ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè€Œéä¿æŒ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">Duke</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> å’Œ </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">Villanova</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#BABED8;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> ä¸å˜</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="key-å±æ€§-index" tabindex="-1">key å±æ€§ index <a class="header-anchor" href="#key-å±æ€§-index" aria-label="Permalink to &quot;key å±æ€§ index&quot;">â€‹</a></h4><blockquote><p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒReact æä¾›äº†ä¸€ä¸ª key å±æ€§ã€‚å½“å­èŠ‚ç‚¹å¸¦æœ‰ key å±æ€§ï¼ŒReact ä¼šé€šè¿‡ key æ¥åŒ¹é…åŸå§‹æ ‘å’Œåæ¥çš„æ ‘ã€‚</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">3</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">ç°åœ¨ React çŸ¥é“å¸¦æœ‰key </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2014</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> çš„å…ƒç´ æ˜¯æ–°çš„ï¼Œå¯¹äº </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2015</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> å’Œ </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2016</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> ä»…ä»…ç§»åŠ¨ä½ç½®å³å¯</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">3</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">æ‰§è¡Œè¿‡ç¨‹ï¼š</span></span>
<span class="line"><span style="color:#BABED8;">ç°åœ¨ React çŸ¥é“å¸¦æœ‰key </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2014</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> çš„å…ƒç´ æ˜¯æ–°çš„ï¼Œå¯¹äº </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2015</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> å’Œ </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2016</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> ä»…ä»…ç§»åŠ¨ä½ç½®å³å¯</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>è¯´æ˜ï¼škey å±æ€§åœ¨ React å†…éƒ¨ä½¿ç”¨ï¼Œä½†ä¸ä¼šä¼ é€’ç»™ä½ çš„ç»„ä»¶</li><li>æ¨èï¼šåœ¨éå†æ•°æ®æ—¶ï¼Œæ¨èåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ key å±æ€§ï¼š<code>&lt;li key={item.id}&gt;{item.name}&lt;/li&gt;</code></li><li>æ³¨æ„ï¼š<strong>key åªéœ€è¦ä¿æŒä¸ä»–çš„å…„å¼ŸèŠ‚ç‚¹å”¯ä¸€å³å¯ï¼Œä¸éœ€è¦å…¨å±€å”¯ä¸€</strong></li><li>æ³¨æ„ï¼š<strong>å°½å¯èƒ½çš„å‡å°‘æ•°ç»„ index ä½œä¸º keyï¼Œæ•°ç»„ä¸­æ’å…¥å…ƒç´ çš„ç­‰æ“ä½œæ—¶ï¼Œä¼šä½¿å¾—æ•ˆç‡åº•ä¸‹</strong></li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">3 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ—§</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–°</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">3 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">1 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">2 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="key-çš„æŠ€å·§" tabindex="-1"><strong>key çš„æŠ€å·§</strong> <a class="header-anchor" href="#key-çš„æŠ€å·§" aria-label="Permalink to &quot;**key çš„æŠ€å·§**&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#BABED8;">å¦‚æœä¸æƒ³ç»„ä»¶å¤ç”¨ï¼Œå¯ä»¥ç»™ç»„ä»¶æä¾›ä¸€ä¸ªå˜åŒ–çš„keyå±æ€§</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#BABED8;">å¦‚æœä¸æƒ³ç»„ä»¶å¤ç”¨ï¼Œå¯ä»¥ç»™ç»„ä»¶æä¾›ä¸€ä¸ªå˜åŒ–çš„keyå±æ€§</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="react-15" tabindex="-1">React 15 <a class="header-anchor" href="#react-15" aria-label="Permalink to &quot;React 15&quot;">â€‹</a></h3><ul><li><p>åŒ…å«äº†ï¼šè™šæ‹Ÿ DOM å’Œ Diff</p></li><li><p>æ¶æ„</p><ol><li>Reconcilerï¼šï¼ˆåè°ƒå™¨ï¼‰è´Ÿè´£è°ƒç”¨ render ç”Ÿæˆè™šæ‹Ÿ Domï¼Œè¿›è¡Œ Diffï¼Œæ‰¾å‡ºå˜åŒ–åçš„è™šæ‹Ÿ Dom</li><li>Rendererï¼šï¼ˆæ¸²æŸ“å™¨ï¼‰è´Ÿè´£æ¥æ”¶ Reconciler é€šçŸ¥ï¼Œå°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åœ¨å½“å‰<code>å®¿ä¸»ç¯å¢ƒ</code></li></ol><ul><li>æ¯”å¦‚æµè§ˆå™¨ï¼ˆreact-domï¼‰ï¼Œä¸åŒçš„å®¿ä¸»ç¯å¢ƒä¼šæœ‰ä¸åŒçš„ Renderer</li></ul></li><li><p>ç¼ºé™·ï¼š</p><ul><li>é€’å½’åŒæ­¥æ›´æ–° DOM æ ‘ï¼Œå¦‚æœèŠ‚ç‚¹éå¸¸å¤šï¼Œå³ä½¿åªæœ‰ä¸€æ¬¡ state å˜æ›´ï¼ŒReact ä¹Ÿéœ€è¦è¿›è¡Œå¤æ‚çš„é€’å½’æ›´æ–°ï¼Œæ›´æ–°ä¸€æ—¦å¼€å§‹ï¼Œ<strong>ä¸­é€”å°±æ— æ³•ä¸­æ–­</strong>ï¼Œç›´åˆ°éå†å®Œæ•´é¢—æ ‘ï¼Œæ‰èƒ½é‡Šæ”¾ <code>JS ä¸»çº¿ç¨‹</code></li><li>setState() ===&gt; åšä¸€æ¬¡ diff ç®—æ³•ï¼Œæ‰¾åˆ°ä¸åŒçš„è™šæ‹Ÿ DOM ===ã€‹ æ›´æ–°æˆ DOM</li></ul></li><li><p>çŠ¶æ€æ›´æ–°</p><ul><li>setState æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥</li><li>æ‰¹å¤„ç†ï¼šå¤šæ¬¡è°ƒç”¨ setState() ä¼šåˆå¹¶ä¸ºä¸€æ¬¡æ›´æ–°</li><li>åŸç†ï¼šè°ƒç”¨ setState() å¹¶æ²¡æœ‰ç«‹å³æ›´æ–°çŠ¶æ€ï¼Œè€Œæ˜¯å­˜å‚¨åˆ° <code>_pendingStateQueue</code> é˜Ÿåˆ—ä¸­ï¼Œå°†éœ€è¦æ›´æ–°çš„ç»„ä»¶å­˜å…¥ <code>dirtyComponent</code> ä¸­ã€‚åœ¨é å¼‚æ­¥ä»£ç  ä¸­ï¼ŒReact ä¼šå°† <code>isBatchingUpdates</code> æ ‡è®°è®¾ç½®ä¸º trueï¼Œè¡¨ç¤ºæ‰¹é‡æ›´æ–°ï¼›è€Œå½“ å¼‚æ­¥ä»£ç  æ‰§è¡Œæ—¶ï¼Œç”±äº React å·²ç»å°†å†…éƒ¨çš„ <code>isBatchingUpdates</code> æ ‡è®°è®¾ç½®ä¸º falseï¼Œæ‰€ä»¥ï¼Œå¼‚æ­¥ä»£ç ä¸­æ“ä½œ setState è¡¨ç°ä¸ºéæ‰¹é‡æ›´æ–°ï¼Œè€Œæ˜¯è°ƒç”¨ä¸€æ¬¡ setState å°±æ›´æ–°ä¸€æ¬¡çŠ¶æ€ã€ç»„ä»¶</li><li>å…¶å®ï¼Œè¿™æ˜¯ä¸€ä¸ª bugï¼Œå› ä¸ºåœ¨ä¸åŒæƒ…å†µä¸‹ setState è¡¨ç°ä¸ä¸€è‡´</li><li>React ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæä¾›äº†ä¸€ä¸ª API æ¥å®ç°æ‰¹å¤„ç†ï¼š<code>ReactDOM.unstable_batchedUpdates()</code></li></ul></li></ul><h1 id="react-16" tabindex="-1">React 16 <a class="header-anchor" href="#react-16" aria-label="Permalink to &quot;React 16&quot;">â€‹</a></h1><ul><li><a href="https://juejin.cn/post/7010539227284766751" target="_blank" rel="noreferrer">å‚è€ƒï¼šReact å„ä¸ªç‰ˆæœ¬ç‰¹æ€§çš„å˜åŒ–</a></li><li><a href="https://claudiopro.github.io/react-fiber-vs-stack-demo/fiber.html" target="_blank" rel="noreferrer">React 16 å®ç°çš„åŠ¨ç”»æ•ˆæœ</a></li><li><a href="https://claudiopro.github.io/react-fiber-vs-stack-demo/stack.html" target="_blank" rel="noreferrer">React 15 å®ç°çš„åŠ¨ç”»æ•ˆæœ</a></li></ul><h2 id="_1-ä¸ºä»€ä¹ˆä¼šå¡é¡¿" tabindex="-1">1. ä¸ºä»€ä¹ˆä¼šå¡é¡¿ <a class="header-anchor" href="#_1-ä¸ºä»€ä¹ˆä¼šå¡é¡¿" aria-label="Permalink to &quot;1. ä¸ºä»€ä¹ˆä¼šå¡é¡¿&quot;">â€‹</a></h2><p>æµè§ˆå™¨åˆ·æ–°é¢‘ç‡ï¼š<code>60HZ</code> ä¹Ÿå°±æ˜¯æ¯ç§’åˆ·æ–° 60 æ¬¡ï¼Œå¤§æ¦‚ 16.67ms æµè§ˆå™¨åˆ·æ–°ä¸€æ¬¡<br> ç”±äº <code>GUI æ¸²æŸ“çº¿ç¨‹</code>å’Œ <code>JS çº¿ç¨‹</code>æ˜¯äº’æ–¥çš„ï¼Œæ‰€ä»¥ JS è„šæœ¬æ‰§è¡Œå’Œæµè§ˆå™¨å¸ƒå±€ã€ç»˜åˆ¶ä¸èƒ½åŒæ—¶æ‰§è¡Œ<br><strong>åœ¨è¿™ 16.6ms çš„æ—¶é—´é‡Œï¼Œæµè§ˆå™¨æ—¢éœ€è¦å®Œæˆ JS çš„æ‰§è¡Œï¼Œä¹Ÿéœ€è¦å®Œæˆæ ·å¼çš„é‡æ’å’Œé‡ç»˜</strong>ï¼Œå¦‚æœ JS æ‰§è¡Œçš„æ—¶é—´è¿‡é•¿ï¼Œè¶…å‡ºäº† 16.6msï¼Œè¿™æ¬¡åˆ·æ–°å°±æ²¡æœ‰æ—¶é—´æ‰§è¡Œæ ·å¼å¸ƒå±€å’Œæ ·å¼ç»˜åˆ¶äº†ï¼Œäºæ˜¯åœ¨é¡µé¢ä¸Šå°±ä¼šè¡¨ç°ä¸ºå¡é¡¿ã€‚</p><p>React 16 ä¹‹å‰çš„ç‰ˆæœ¬æ¯”å¯¹æ›´æ–° VirtualDOM çš„è¿‡ç¨‹æ˜¯é‡‡ç”¨å¾ªç¯åŠ é€’å½’å®ç°çš„ï¼Œè¿™ç§æ¯”å¯¹æ–¹å¼æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸€æ—¦ä»»åŠ¡å¼€å§‹è¿›è¡Œå°±æ— æ³•ä¸­æ–­ï¼Œå¦‚æœåº”ç”¨ä¸­ç»„ä»¶æ•°é‡åºå¤§ï¼Œä¸»çº¿ç¨‹è¢«é•¿æœŸå ç”¨ï¼Œç›´åˆ°æ•´æ£µ VirtualDOM æ ‘æ¯”å¯¹æ›´æ–°å®Œæˆä¹‹åä¸»çº¿ç¨‹æ‰èƒ½è¢«é‡Šæ”¾ï¼Œä¸»çº¿ç¨‹æ‰èƒ½æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚è¿™å°±ä¼šå¯¼è‡´ä¸€äº›ç”¨æˆ·äº¤äº’ï¼ŒåŠ¨ç”»ç­‰ä»»åŠ¡æ— æ³•ç«‹å³å¾—åˆ°æ‰§è¡Œï¼Œé¡µé¢å°±ä¼šäº§ç”Ÿå¡é¡¿, éå¸¸çš„å½±å“ç”¨æˆ·ä½“éªŒã€‚</p><p>æ ¸å¿ƒé—®é¢˜ï¼šé€’å½’æ— æ³•ä¸­æ–­ï¼Œæ‰§è¡Œé‡ä»»åŠ¡è€—æ—¶é•¿ã€‚ JavaScript åˆæ˜¯å•çº¿ç¨‹ï¼Œæ— æ³•åŒæ—¶æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œå¯¼è‡´ä»»åŠ¡å»¶è¿Ÿé¡µé¢å¡é¡¿ï¼Œç”¨æˆ·ä½“éªŒå·®ã€‚</p><h2 id="_2-requestidlecallback" tabindex="-1">2. requestIdleCallback <a class="header-anchor" href="#_2-requestidlecallback" aria-label="Permalink to &quot;2. requestIdleCallback&quot;">â€‹</a></h2><h3 id="_2-1-æ ¸å¿ƒ-api-åŠŸèƒ½ä»‹ç»" tabindex="-1">2.1 æ ¸å¿ƒ API åŠŸèƒ½ä»‹ç» <a class="header-anchor" href="#_2-1-æ ¸å¿ƒ-api-åŠŸèƒ½ä»‹ç»" aria-label="Permalink to &quot;2.1 æ ¸å¿ƒ API åŠŸèƒ½ä»‹ç»&quot;">â€‹</a></h3><p>åˆ©ç”¨æµè§ˆå™¨çš„ç©ºä½™æ—¶é—´æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœæœ‰æ›´é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡è¦æ‰§è¡Œæ—¶ï¼Œå½“å‰æ‰§è¡Œçš„ä»»åŠ¡å¯ä»¥è¢«ç»ˆæ­¢ï¼Œä¼˜å…ˆæ‰§è¡Œé«˜çº§åˆ«ä»»åŠ¡ã€‚</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#82AAFF;">requestIdleCallback</span><span style="color:#BABED8;">(</span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">deadline</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// deadline.timeRemaining() è·å–æµè§ˆå™¨çš„ç©ºä½™æ—¶é—´</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#82AAFF;">requestIdleCallback</span><span style="color:#BABED8;">(</span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">deadline</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// deadline.timeRemaining() è·å–æµè§ˆå™¨çš„ç©ºä½™æ—¶é—´</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2-2-æµè§ˆå™¨ç©ºä½™æ—¶é—´" tabindex="-1">2.2 æµè§ˆå™¨ç©ºä½™æ—¶é—´ <a class="header-anchor" href="#_2-2-æµè§ˆå™¨ç©ºä½™æ—¶é—´" aria-label="Permalink to &quot;2.2 æµè§ˆå™¨ç©ºä½™æ—¶é—´&quot;">â€‹</a></h4><p>é¡µé¢æ˜¯ä¸€å¸§ä¸€å¸§ç»˜åˆ¶å‡ºæ¥çš„ï¼Œå½“æ¯ç§’ç»˜åˆ¶çš„å¸§æ•°è¾¾åˆ° 60 æ—¶ï¼Œé¡µé¢æ˜¯æµç•…çš„ï¼Œå°äºè¿™ä¸ªå€¼æ—¶ï¼Œ ç”¨æˆ·ä¼šæ„Ÿè§‰åˆ°å¡é¡¿</p><p>1s 60 å¸§ï¼Œæ¯ä¸€å¸§åˆ†åˆ°çš„æ—¶é—´æ˜¯ 1000/60 â‰ˆ 16 msï¼Œå¦‚æœæ¯ä¸€å¸§æ‰§è¡Œçš„æ—¶é—´å°äº 16msï¼Œå°±è¯´æ˜æµè§ˆå™¨æœ‰ç©ºä½™æ—¶é—´</p><p>å¦‚æœä»»åŠ¡åœ¨å‰©ä½™çš„æ—¶é—´å†…æ²¡æœ‰å®Œæˆåˆ™ä¼šåœæ­¢ä»»åŠ¡æ‰§è¡Œï¼Œç»§ç»­ä¼˜å…ˆæ‰§è¡Œä¸»ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´ requestIdleCallback æ€»æ˜¯åˆ©ç”¨æµè§ˆå™¨çš„ç©ºä½™æ—¶é—´æ‰§è¡Œä»»åŠ¡</p><h4 id="_2-3-api-åŠŸèƒ½ä½“éªŒ" tabindex="-1">2.3 API åŠŸèƒ½ä½“éªŒ <a class="header-anchor" href="#_2-3-api-åŠŸèƒ½ä½“éªŒ" aria-label="Permalink to &quot;2.3 API åŠŸèƒ½ä½“éªŒ&quot;">â€‹</a></h4><p>é¡µé¢ä¸­æœ‰ä¸¤ä¸ªæŒ‰é’®å’Œä¸€ä¸ª DIVï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®æ‰§è¡Œä¸€é¡¹æ˜‚è´µçš„è®¡ç®—ï¼Œä½¿å…¶é•¿æœŸå ç”¨ä¸»çº¿ç¨‹ï¼Œå½“è®¡ç®—ä»»åŠ¡æ‰§è¡Œçš„æ—¶å€™å»ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®æ›´æ”¹é¡µé¢ä¸­ DIV çš„èƒŒæ™¯é¢œè‰²ã€‚</p><p>ä½¿ç”¨ requestIdleCallback å°±å¯ä»¥å®Œç¾è§£å†³è¿™ä¸ªå¡é¡¿é—®é¢˜ã€‚</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">playground</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">play</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">playground</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">work</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">start work</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interaction</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">handle some user interaction</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">playground</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">play</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">playground</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">work</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">start work</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interaction</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">handle some user interaction</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#BABED8;">&lt;</span><span style="color:#FFCB6B;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">playground</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> palevioletred</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#B2CCD6;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">20px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#B2CCD6;">margin-bottom</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">&lt;/</span><span style="color:#FFCB6B;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#BABED8;">&lt;</span><span style="color:#FFCB6B;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">playground</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> palevioletred</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#B2CCD6;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">20px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#B2CCD6;">margin-bottom</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">&lt;/</span><span style="color:#FFCB6B;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> play </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">play</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> workBtn </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">work</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> interactionBtn </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interaction</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> iterationCount </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">100000000</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> value </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> expensiveCalculation </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">IdleDeadline</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">iterationCount</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">IdleDeadline</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">timeRemaining</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">iterationCount</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">iterationCount</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">requestIdleCallback</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">expensiveCalculation</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">workBtn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">requestIdleCallback</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">expensiveCalculation</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">interactionBtn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">play</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">style</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">background</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">palegreen</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> play </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">play</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> workBtn </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">work</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> interactionBtn </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interaction</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> iterationCount </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">100000000</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> value </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> expensiveCalculation </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">IdleDeadline</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">iterationCount</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">IdleDeadline</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">timeRemaining</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">iterationCount</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">iterationCount</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">requestIdleCallback</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">expensiveCalculation</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">workBtn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">requestIdleCallback</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">expensiveCalculation</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">interactionBtn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">play</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">style</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">background</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">palegreen</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_3-fiber" tabindex="-1">3 Fiber <a class="header-anchor" href="#_3-fiber" aria-label="Permalink to &quot;3 Fiber&quot;">â€‹</a></h2><h4 id="_3-1-é—®é¢˜" tabindex="-1">3.1 é—®é¢˜ <a class="header-anchor" href="#_3-1-é—®é¢˜" aria-label="Permalink to &quot;3.1 é—®é¢˜&quot;">â€‹</a></h4><p>React 16 ä¹‹å‰çš„ç‰ˆæœ¬æ¯”å¯¹æ›´æ–° VirtualDOM çš„è¿‡ç¨‹æ˜¯é‡‡ç”¨å¾ªç¯åŠ é€’å½’å®ç°çš„ï¼Œè¿™ç§æ¯”å¯¹æ–¹å¼æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸€æ—¦ä»»åŠ¡å¼€å§‹è¿›è¡Œå°±æ— æ³•ä¸­æ–­ï¼Œå¦‚æœåº”ç”¨ä¸­ç»„ä»¶æ•°é‡åºå¤§ï¼Œä¸»çº¿ç¨‹è¢«é•¿æœŸå ç”¨ï¼Œç›´åˆ°æ•´æ£µ VirtualDOM æ ‘æ¯”å¯¹æ›´æ–°å®Œæˆä¹‹åä¸»çº¿ç¨‹æ‰èƒ½è¢«é‡Šæ”¾ï¼Œä¸»çº¿ç¨‹æ‰èƒ½æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚è¿™å°±ä¼šå¯¼è‡´ä¸€äº›ç”¨æˆ·äº¤äº’ï¼ŒåŠ¨ç”»ç­‰ä»»åŠ¡æ— æ³•ç«‹å³å¾—åˆ°æ‰§è¡Œï¼Œé¡µé¢å°±ä¼šäº§ç”Ÿå¡é¡¿, éå¸¸çš„å½±å“ç”¨æˆ·ä½“éªŒã€‚</p><p>æ ¸å¿ƒé—®é¢˜ï¼šé€’å½’æ— æ³•ä¸­æ–­ï¼Œæ‰§è¡Œé‡ä»»åŠ¡è€—æ—¶é•¿ã€‚ JavaScript åˆæ˜¯å•çº¿ç¨‹ï¼Œæ— æ³•åŒæ—¶æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œå¯¼è‡´ä»»åŠ¡å»¶è¿Ÿé¡µé¢å¡é¡¿ï¼Œç”¨æˆ·ä½“éªŒå·®ã€‚</p><h4 id="_3-2-è§£å†³æ–¹æ¡ˆ" tabindex="-1">3.2 è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#_3-2-è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;3.2 è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h4><ol><li><p>åˆ©ç”¨æµè§ˆå™¨ç©ºé—²æ—¶é—´æ‰§è¡Œä»»åŠ¡ï¼Œæ‹’ç»é•¿æ—¶é—´å ç”¨ä¸»çº¿ç¨‹</p></li><li><p>æ”¾å¼ƒé€’å½’åªé‡‡ç”¨å¾ªç¯ï¼Œå› ä¸ºå¾ªç¯å¯ä»¥è¢«ä¸­æ–­</p></li><li><p>ä»»åŠ¡æ‹†åˆ†ï¼Œå°†ä»»åŠ¡æ‹†åˆ†æˆä¸€ä¸ªä¸ªçš„å°ä»»åŠ¡</p></li><li><p>åœ¨ React 15 ä¸­ï¼Œå°† VirtualDOM æ•´ä½“çœ‹æˆä¸€ä¸ªä»»åŠ¡è¿›è¡Œé€’å½’å¤„ç†ï¼Œä»»åŠ¡æ•´ä½“åºå¤§æ‰§è¡Œè€—æ—¶ä¸èƒ½ä¸­æ–­ã€‚</p><p>åœ¨ React 16 ä¸­ï¼Œå°†æ•´ä¸ªä»»åŠ¡æ‹†åˆ†æˆäº†ä¸€ä¸ªä¸€ä¸ªå°çš„ä»»åŠ¡è¿›è¡Œå¤„ç†ã€‚æ¯ä¸€ä¸ªå°çš„ä»»åŠ¡å°±è¡¨ç¤ºä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚æ¯ä¸€ä¸ªå°çš„ä»»åŠ¡æŒ‡çš„å°±æ˜¯ä¸€ä¸ª Fiber èŠ‚ç‚¹çš„æ„å»ºã€‚ä¸€ä¸ª Fiber èŠ‚ç‚¹çš„æ„å»ºå°±æ˜¯ä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚æ‰§è¡Œå•å…ƒåœ¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´è¢«æ‰§è¡Œï¼Œä¸”å¯ä»¥éšæ—¶è¢«ç»ˆæ­¢ã€‚React ä¼šåœ¨æ¯ä¸ªæ‰§è¡Œå•å…ƒæ‰§è¡Œå®Œæˆåï¼Œæ£€æŸ¥æ˜¯å¦è¿˜æœ‰ç©ºä½™æ—¶é—´ï¼Œå¦‚æœæ²¡æœ‰å°±äº¤è¿˜ä¸»çº¿ç¨‹çš„æ§åˆ¶æƒã€‚</p><p><img src="/assets/image-20220117132452431.fa6c9f68.png" alt="image-20220117132452431"></p></li></ol><h4 id="_3-3-å®ç°æ€è·¯" tabindex="-1">3.3 å®ç°æ€è·¯ <a class="header-anchor" href="#_3-3-å®ç°æ€è·¯" aria-label="Permalink to &quot;3.3 å®ç°æ€è·¯&quot;">â€‹</a></h4><p>åœ¨ Fiber æ–¹æ¡ˆä¸­ï¼Œä¸ºäº†å®ç°ä»»åŠ¡çš„ç»ˆæ­¢å†ç»§ç»­ï¼ŒDOM æ¯”å¯¹ç®—æ³•è¢«åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼š</p><ol><li>æ„å»º Fiber (å¯ä¸­æ–­)</li><li>æäº¤ Commit (ä¸å¯ä¸­æ–­)</li></ol><p>DOM åˆå§‹æ¸²æŸ“: virtualDOM -&gt; Fiber -&gt; Fiber[] -&gt; DOM</p><p>DOM æ›´æ–°æ“ä½œ: newFiber vs oldFiber -&gt; Fiber[] -&gt; DOM</p><h4 id="_3-4-fiber-å¯¹è±¡" tabindex="-1">3.4 Fiber å¯¹è±¡ <a class="header-anchor" href="#_3-4-fiber-å¯¹è±¡" aria-label="Permalink to &quot;3.4 Fiber å¯¹è±¡&quot;">â€‹</a></h4><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight vp-code-dark"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ç»„ä»¶ç±»å‹ divã€spanã€ç»„ä»¶æ„é€ å‡½æ•°</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// DOM å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">stateNode</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æŒ‡å‘è‡ªå·±çš„çˆ¶çº§ Fiber å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">return</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">null</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æŒ‡å‘è‡ªå·±çš„ç¬¬ä¸€ä¸ªå­çº§ Fiber å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">child</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">null</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æŒ‡å‘è‡ªå·±çš„ä¸‹ä¸€ä¸ªå…„å¼Ÿ iber å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">sibling</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">null</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><pre class="shiki material-theme-palenight vp-code-light"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ç»„ä»¶ç±»å‹ divã€spanã€ç»„ä»¶æ„é€ å‡½æ•°</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// DOM å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">stateNode</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æŒ‡å‘è‡ªå·±çš„çˆ¶çº§ Fiber å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">return</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">null</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æŒ‡å‘è‡ªå·±çš„ç¬¬ä¸€ä¸ªå­çº§ Fiber å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">child</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">null</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æŒ‡å‘è‡ªå·±çš„ä¸‹ä¸€ä¸ªå…„å¼Ÿ iber å¯¹è±¡</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">sibling</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Fiber</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">null</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="/assets/image-20220117160047287.802a4f9b.png" alt="image-20220117160047287"></p><p><img src="/assets/image-20220117153403196.9ec1b0f3.png" alt="image-20220117153403196"></p></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><div class="edit-info" data-v-ef5dee53><!----><div class="last-updated" data-v-ef5dee53><p class="VPLastUpdated" data-v-ef5dee53 data-v-7e05ebdb>Last updated: <time datetime="2025-02-27T04:50:06.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/views/frontend/react/react-practice.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>ä¸Šä¸€é¡µ</span><span class="title" data-v-ef5dee53>ğŸ† reactå®æˆ˜é—®é¢˜</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/views/frontend/vue/vue-sourcecode.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>ä¸‹ä¸€é¡µ</span><span class="title" data-v-ef5dee53>ğŸ¿ vueæºç è§£æ</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><p class="message" data-v-e03eb2e1>åŠªåŠ›æˆä¸ºå…¨å¹²å‹äººæ‰</p><p class="copyright" data-v-e03eb2e1>Copyright Â© 2023-present zuishuaicc</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"views_application_electron-rebuild.md\":\"e888cce4\",\"views_application_rust_rust-lib.md\":\"53647c69\",\"markdown-examples.md\":\"7cfc57e1\",\"views_application_node-cpp.md\":\"d1c66c8d\",\"api-examples.md\":\"85508683\",\"views_application_rust_rust-node.md\":\"583a7124\",\"views_application_electron-sqlite.md\":\"e6a87612\",\"views_application_electron.md\":\"d8aa1cc6\",\"views_application_rust_rust-base.md\":\"921838e8\",\"views_application_rust_rust-wasm.md\":\"3f2635ad\",\"index.md\":\"94583a67\",\"views_application_vscode-debug.md\":\"9beacfad\",\"views_application_your-first-extension.md\":\"3a76df35\",\"views_backend_node-excel.md\":\"ae9fa2b2\",\"views_backend_node-child_process.md\":\"348d412d\",\"views_backend_midway.md\":\"3c5dd81c\",\"views_frontend_typescript_type-error.md\":\"5482b799\",\"views_frontend_excel.md\":\"1bbaace1\",\"views_frontend_vue-to-pdf.md\":\"30cba53e\",\"views_frontend_viteconfig.md\":\"56cc33d9\",\"views_frontend_vue_vue-sourcecode.md\":\"883c0387\",\"views_backend_node-tensorflow.md\":\"5e61d246\",\"views_techstack_bit-operate.md\":\"15b4bdfa\",\"views_techstack_dailynote.md\":\"9057892c\",\"views_techstack_navicat.md\":\"d9efd9f6\",\"views_frontend_webcomponent.md\":\"f38196b6\",\"views_techstack_nginx.md\":\"8f213d4e\",\"views_techstack_mac.md\":\"6a151840\",\"views_techstack_method-plug.md\":\"5b0a91cc\",\"views_frontend_qiankun-vite.md\":\"6cdd0003\",\"views_frontend_react_react-practice.md\":\"34e0641d\",\"views_frontend_react_react-quick-start.md\":\"5cebed10\",\"views_frontend_async-infect.md\":\"fd8f21b8\",\"views_frontend_stylecollection.md\":\"76900a4c\",\"views_frontend_face-api.md\":\"c454d6f4\",\"views_frontend_tailwind.md\":\"90c46623\",\"views_frontend_electron-builder.md\":\"a5c20a30\",\"views_backend_node-crawl.md\":\"0ecbdd67\",\"views_backend_node-word.md\":\"d33166ea\",\"views_backend_pnpm.md\":\"ea3e7de7\",\"views_frontend_hammerjs.md\":\"7aec57fa\",\"views_frontend_chrome-extension.md\":\"72236279\",\"views_frontend_js-base.md\":\"1bbd8605\",\"views_frontend_canvas.md\":\"dc764113\",\"views_frontend_file-slice.md\":\"f3976fb1\",\"views_frontend_indexdb.md\":\"f7a1e5a6\",\"views_backend_task-manager.md\":\"b9a33272\",\"views_frontend_clickoutside.md\":\"9c64af89\",\"views_frontend_vue_vue-ref.md\":\"a782ae32\",\"views_backend_third-table.md\":\"3feda3cf\",\"views_frontend_web-animation-api.md\":\"b67c75d8\",\"views_techstack_bat.md\":\"ee0dec9d\",\"views_frontend_wx-formdata.md\":\"e2a9aeff\",\"views_frontend_vue-drag.md\":\"59d62c1e\",\"views_techstack_linux.md\":\"0cc2feb4\",\"views_frontend_word.md\":\"a3bed603\",\"views_frontend_tsconfig-detail.md\":\"20387e13\",\"views_backend_nestjs_nestjs-practise.md\":\"eebe4b23\",\"views_frontend_algorithms.md\":\"926bfc77\",\"views_frontend_vue_component-lib.md\":\"880868ca\",\"views_frontend_drag.md\":\"4a65b22d\",\"views_techstack_docker.md\":\"85759722\",\"views_backend_node-esm.md\":\"82bfc353\",\"views_frontend_ellipsis-text.md\":\"8f6a7c6c\",\"views_techstack_vim-operate.md\":\"d6935a8a\",\"views_frontend_css-ball.md\":\"735f923f\",\"views_frontend_react_react-skill.md\":\"a11c0c48\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ccçš„å­¦ä¹ å†ç¨‹\",\"description\":\"write daily note\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/future.png\",\"nav\":[{\"text\":\"ä¸»é¡µ\",\"link\":\"/\"},{\"text\":\"ä½¿ç”¨æ ·ä¾‹\",\"link\":\"/markdown-examples\"},{\"text\":\"å¸¸ç”¨ç®—æ³•\",\"link\":\"/views/frontend/algorithms\"},{\"text\":\"å…¶ä»–åšå®¢\",\"items\":[{\"text\":\"å…¨æ ˆå·¥å…·\",\"link\":\"https://tools.qzxdp.cn/\"},{\"text\":\"å…¨æ ˆæ•™ç¨‹\",\"link\":\"https://tut.qzxdp.cn/typescript/\"}]}],\"sidebar\":[{\"text\":\"ä½¿ç”¨æ ·ä¾‹\",\"items\":[{\"text\":\"Markdown Examples\",\"link\":\"/markdown-examples\"},{\"text\":\"Runtime API Examples\",\"link\":\"/api-examples\"}]},{\"items\":[{\"text\":\"ğŸ“å‰ç«¯\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸ¥¨ å¸¸ç”¨ç®—æ³•\",\"link\":\"/views/frontend/algorithms\"},{\"text\":\"ğŸ¥¯ jsåŸºç¡€\",\"link\":\"/views/frontend/js-base\"},{\"text\":\"ğŸ¥ æ ·å¼åˆé›†\",\"link\":\"/views/frontend/styleCollection\"},{\"text\":\"ğŸ§‡ cssç”»æ‚¬æµ®çƒ\",\"link\":\"/views/frontend/css-ball\"},{\"text\":\"ğŸ¥“ vite.configé…ç½®\",\"link\":\"/views/frontend/viteConfig\"},{\"text\":\"ğŸŸ electron-builderé…ç½®\",\"link\":\"/views/frontend/electron-builder\"},{\"text\":\"ğŸ• chrome-extension\",\"link\":\"/views/frontend/chrome-extension\"},{\"text\":\"ğŸŒ­ canvasä½¿ç”¨\",\"link\":\"/views/frontend/canvas\"},{\"text\":\"ğŸ¥ª jsé¡µé¢æ‹–æ‹½\",\"link\":\"/views/frontend/drag\"},{\"text\":\"ğŸŒ® clickoutsideæŒ‡ä»¤\",\"link\":\"/views/frontend/clickoutside\"},{\"text\":\"ğŸŒ¯ indexDBä½¿ç”¨\",\"link\":\"/views/frontend/indexDB\"},{\"text\":\"ğŸ¥™ wordå‰ç«¯æ“ä½œ\",\"link\":\"/views/frontend/word\"},{\"text\":\"ğŸ excelå‰ç«¯æ“ä½œ\",\"link\":\"/views/frontend/excel\"},{\"text\":\"ğŸŒ ant-design-vueå¯å˜åˆ—å®½è¡¨æ ¼\",\"link\":\"/views/frontend/vue-drag\"},{\"text\":\"ğŸ‡ æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ \",\"link\":\"/views/frontend/file-slice\"},{\"text\":\"ğŸŠ vue-to-pdfä½¿ç”¨\",\"link\":\"/views/frontend/vue-to-pdf\"},{\"text\":\"ğŸ“ å¾®ä¿¡å°ç¨‹åºä¸­ä½¿ç”¨formdata\",\"link\":\"/views/frontend/wx-formdata\"},{\"text\":\"ğŸ äººè„¸è¯†åˆ«\",\"link\":\"/views/frontend/face-api\"},{\"text\":\"ğŸ‘ åŸç”Ÿwebcomponent\",\"link\":\"/views/frontend/webcomponent\"},{\"text\":\"ğŸ’ qiankunæ­é…vite\",\"link\":\"/views/frontend/qiankun-vite\"},{\"text\":\"ğŸ‰ æ¶ˆé™¤å¼‚æ­¥ä¼ æŸ“æ€§\",\"link\":\"/views/frontend/async-infect\"},{\"text\":\"ğŸ‹ tsconfigè¯¦ç»†é…ç½®\",\"link\":\"/views/frontend/tsconfig-detail\"},{\"text\":\"ğŸ¥ tailwindä½¿ç”¨\",\"link\":\"/views/frontend/tailwind\"},{\"text\":\"ğŸˆ å¤šè¡Œæ–‡æœ¬çœç•¥\",\"link\":\"/views/frontend/ellipsis-text\"},{\"text\":\"ğŸ¥­ åŸç”ŸjsåŠ¨ç”»\",\"link\":\"/views/frontend/web-animation-api\"},{\"text\":\"ğŸ ç§»åŠ¨ç«¯äº‹ä»¶åº“\",\"link\":\"/views/frontend/hammerjs\"},{\"text\":\"ğŸ“React\",\"items\":[{\"text\":\"ğŸ… viteæ­å»ºReact+ts\",\"link\":\"/views/frontend/react/react-quick-start\"},{\"text\":\"ğŸ† reactå®æˆ˜é—®é¢˜\",\"link\":\"/views/frontend/react/react-practice\"},{\"text\":\"ğŸ¥‘ reactç»„ä»¶å¤ç”¨æŠ€å·§\",\"link\":\"/views/frontend/react/react-skill\"}]},{\"text\":\"ğŸ“Vue\",\"items\":[{\"text\":\"ğŸ¿ vueæºç è§£æ\",\"link\":\"/views/frontend/vue/vue-sourcecode\"},{\"text\":\"ğŸ§ˆ è‡ªå®šä¹‰ç»„ä»¶åº“\",\"link\":\"/views/frontend/vue/component-lib\"},{\"text\":\"ğŸ§‚ vue3æ‰¹é‡ç»‘å®šref\",\"link\":\"/views/frontend/vue/vue-ref\"}]},{\"text\":\"ğŸ“Typescript\",\"items\":[{\"text\":\"ğŸ¥« TypeScriptå¸¸è§ç±»å‹é”™è¯¯\",\"link\":\"/views/frontend/typescript/type-error\"}]}]}]},{\"items\":[{\"text\":\"ğŸ“æœåŠ¡ç«¯\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸ± nodeä¸­ä½¿ç”¨esm\",\"link\":\"/views/backend/node-esm\"},{\"text\":\"ğŸ˜ nodeæ“ä½œword\",\"link\":\"/views/backend/node-word\"},{\"text\":\"ğŸ™ nodeæ“ä½œexcel\",\"link\":\"/views/backend/node-excel\"},{\"text\":\"ğŸš ä¸‰æ–¹ç™»å½•è¡¨ç»“æ„\",\"link\":\"/views/backend/third-table\"},{\"text\":\"ğŸ› nodeä¸­ä½¿ç”¨å­è¿›ç¨‹\",\"link\":\"/views/backend/node-child_process\"},{\"text\":\"ğŸœ nodeçˆ¬è™«\",\"link\":\"/views/backend/node-crawl\"},{\"text\":\"ğŸ§† node+tensorflow\",\"link\":\"/views/backend/node-tensorflow\"},{\"text\":\"ğŸ¥š Midway\",\"link\":\"/views/backend/midway\"},{\"text\":\"ğŸ“nestjs\",\"items\":[{\"text\":\"ğŸ³nestjså®æˆ˜\",\"link\":\"/views/backend/nestjs/nestjs-practise\"}]},{\"text\":\"ğŸ¥˜ ä»»åŠ¡é˜Ÿåˆ—\",\"link\":\"/views/backend/task-manager\"},{\"text\":\"ğŸ  pnpmä½¿ç”¨\",\"link\":\"/views/backend/pnpm\"}]}]},{\"items\":[{\"text\":\"ğŸ“å®¢æˆ·ç«¯\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸŒ¶ï¸ Election\",\"link\":\"/views/application/electron\"},{\"text\":\"ğŸ§„ Election-rebuild\",\"link\":\"/views/application/electron-rebuild\"},{\"text\":\"ğŸ§… Election-sqlite\",\"link\":\"/views/application/electron-sqlite\"},{\"text\":\"ğŸ„ nodeä¸åŠ¨æ€è¿æ¥åº“\",\"link\":\"/views/application/node-cpp\"},{\"text\":\"ğŸ¥œ VScodeExtension\",\"link\":\"/views/application/your-first-extension\"},{\"text\":\"ğŸŒ° VScodeè°ƒè¯•åº”ç”¨\",\"link\":\"/views/application/vscode-debug\"},{\"text\":\"ğŸ“Rust\",\"items\":[{\"text\":\"ğŸ RuståŸºç¡€\",\"link\":\"/views/application/rust/rust-base\"},{\"text\":\"ğŸ¥ RuståŠ¨æ€é“¾æ¥åº“\",\"link\":\"/views/application/rust/rust-lib\"},{\"text\":\"ğŸ¥– Rustæ‰©å±•nodeæ’ä»¶\",\"link\":\"/views/application/rust/rust-node\"},{\"text\":\"ğŸ¥¥ Rustå¼€å‘wasm\",\"link\":\"/views/application/rust/rust-wasm\"}]}]}]},{\"items\":[{\"text\":\"ğŸ“æŠ€æœ¯æ ˆ\",\"collapsed\":true,\"items\":[{\"text\":\"ğŸ¥¦ macä½¿ç”¨\",\"link\":\"/views/techStack/mac\"},{\"text\":\"ğŸŒ½ navicatä½¿ç”¨ï¼ˆmacç‰ˆæœ¬ï¼‰\",\"link\":\"/views/techStack/navicat\"},{\"text\":\"ğŸ¥• dockerä½¿ç”¨\",\"link\":\"/views/techStack/docker\"},{\"text\":\"ğŸ¥¨ batå‘½ä»¤\",\"link\":\"/views/techStack/bat\"},{\"text\":\"ğŸ¥¯ linuxä½¿ç”¨\",\"link\":\"/views/techStack/linux\"},{\"text\":\"ğŸ¥ nginxä½¿ç”¨\",\"link\":\"/views/techStack/nginx\"},{\"text\":\"ğŸ§‡ ä½è¿ç®—\",\"link\":\"/views/techStack/bit-operate\"},{\"text\":\"ğŸ¥“ vimæ“ä½œ\",\"link\":\"/views/techStack/vim-operate\"},{\"text\":\"ğŸŸ methodPlug\",\"link\":\"/views/techStack/method-plug\"},{\"text\":\"ğŸ• æ—¥å¸¸æ‚è®°\",\"link\":\"/views/techStack/dailyNote\"}]}]}],\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"XVMUZ4Z9UJ\",\"apiKey\":\"f1dc8ba702a233b6fdcdb36820fcbd93\",\"indexName\":\"zuishuaicc-gitee\",\"locales\":{\"root\":{\"placeholder\":\"æœç´¢æ–‡æ¡£\",\"translations\":{\"button\":{\"buttonText\":\"æœç´¢æ–‡æ¡£\",\"buttonAriaLabel\":\"æœç´¢æ–‡æ¡£\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"æ¸…é™¤æŸ¥è¯¢æ¡ä»¶\",\"resetButtonAriaLabel\":\"æ¸…é™¤æŸ¥è¯¢æ¡ä»¶\",\"cancelButtonText\":\"å–æ¶ˆ\",\"cancelButtonAriaLabel\":\"å–æ¶ˆ\"},\"startScreen\":{\"recentSearchesTitle\":\"æœç´¢å†å²\",\"noRecentSearchesText\":\"æ²¡æœ‰æœç´¢å†å²\",\"saveRecentSearchButtonTitle\":\"ä¿å­˜è‡³æœç´¢å†å²\",\"removeRecentSearchButtonTitle\":\"ä»æœç´¢å†å²ä¸­ç§»é™¤\",\"favoriteSearchesTitle\":\"æ”¶è—\",\"removeFavoriteSearchButtonTitle\":\"ä»æ”¶è—ä¸­ç§»é™¤\"},\"errorScreen\":{\"titleText\":\"æ— æ³•è·å–ç»“æœ\",\"helpText\":\"ä½ å¯èƒ½éœ€è¦æ£€æŸ¥ä½ çš„ç½‘ç»œè¿æ¥\"},\"footer\":{\"selectText\":\"é€‰æ‹©\",\"navigateText\":\"åˆ‡æ¢\",\"closeText\":\"å…³é—­\",\"searchByText\":\"æœç´¢æä¾›è€…\"},\"noResultsScreen\":{\"noResultsText\":\"æ— æ³•æ‰¾åˆ°ç›¸å…³ç»“æœ\",\"suggestedQueryText\":\"ä½ å¯ä»¥å°è¯•æŸ¥è¯¢\",\"reportMissingResultsText\":\"ä½ è®¤ä¸ºè¯¥æŸ¥è¯¢åº”è¯¥æœ‰ç»“æœï¼Ÿ\",\"reportMissingResultsLinkText\":\"ç‚¹å‡»åé¦ˆ\"}}}}}}},\"outlineTitle\":\"æœ¬é¡µç›®å½•\",\"darkModeSwitchLabel\":\"åˆ‡æ¢ä¸»é¢˜\",\"sidebarMenuLabel\":\"èœå•\",\"returnToTopLabel\":\"å›åˆ°é¡¶éƒ¨\",\"docFooter\":{\"prev\":\"ä¸Šä¸€é¡µ\",\"next\":\"ä¸‹ä¸€é¡µ\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/zuishuaicc/vite-blog\"},{\"icon\":{\"svg\":\"<svg height=\\\"32\\\" viewBox=\\\"0 0 32 32\\\" width=\\\"32\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><circle cx=\\\"16\\\" cy=\\\"16\\\" fill=\\\"#c71d23\\\" r=\\\"16\\\"/><path d=\\\"m24.0987698 14.2225144h-9.0863697c-.4362899.000207-.7900048.3538292-.790326.7901191l-.0005173 1.9752185c-.0003277.4363707.353328.7902117.7896987.790326.0000712 0 .0001424 0 .0002135-.0002135l5.5317648-.0000461c.4363708-.0000102.7901221.3537352.7901257.790106 0 .0000022 0 .0000044-.0000066.0000066v.1975077.1975318c0 1.3091122-1.0612451 2.3703573-2.3703573 2.3703573h-7.5067195c-.4363081-.0000218-.790009-.353713-.7900429-.7900211l-.0002069-7.5059917c-.0001014-1.3091122 1.0611145-2.3703865 2.3702267-2.3704226.0000217 0 .0000435 0 .0000653.0000653h11.0602463c.4361793-.0004902.7898484-.35394.7906091-.79011894l.0012251-1.97521881c.0007606-.43637034-.3527683-.79033806-.7891389-.79060871-.0001634-.0000001-.0003268-.00000015-.0004901.00048976h-11.0617654c-3.27278051 0-5.92589329 2.65311278-5.92589329 5.9258933v11.0612755c0 .4363707.35374837.7901191.7901191.7901191h11.65447149c2.9454379 0 5.3331872-2.3877493 5.3331872-5.3331872v-4.5430682c0-.4363707-.3537484-.7901191-.7901191-.7901191z\\\" fill=\\\"#fff\\\"/></g></svg>\"},\"link\":\"https://gitee.com/zuishuaicc/vite-blog\"}],\"footer\":{\"message\":\"åŠªåŠ›æˆä¸ºå…¨å¹²å‹äººæ‰\",\"copyright\":\"Copyright Â© 2023-present zuishuaicc\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>